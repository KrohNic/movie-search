{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.js","webpack:///./src/Cards.js","webpack:///./src/Fetcher.js","webpack:///./src/Key.js","webpack:///./src/Keyboard.js","webpack:///./src/KeyboardApp.js","webpack:///./src/Search.js","webpack:///./src/Slider.js","webpack:///./src/Speech.js","webpack:///./src/Utils.js","webpack:///./src/index.js","webpack:///./src/values.js"],"names":["Fetcher","require","Slider","Search","KeyboardApp","Speech","App","keyboardContainer","document","querySelector","keyboardInst","sliderInst","searchInst","speechInst","isLoading","page","searchStr","searchingEndHandler","searchCallback","dataObj","errorMsg","error","data","setData","total","fetchMovieData","loadingImg","classList","remove","nextPageCallback","concatData","searchSubmit","updateClearBtnState","module","exports","IMDB_URL","POSTER_NA","Utils","Cards","parentElem","parent","isCardContainerVisible","firstCardsLoadedIndicatorList","addEventListener","event","target","replaceCards","add","textContent","createCards","contentReplaceHandler","card","index","contains","isCardsFullyLoaded","every","item","revealCardsContainer","rating","cardIndex","img","createElem","alt","src","reveal","id","callback","createRatingElements","fetchImdbRating","imgContainer","Title","Poster","setEmptyPoster","container","title","href","URL","imdbID","loadPoster","Year","imdbId","createLoadingPlaceholder","getImdbRating","fragment","DocumentFragment","forEach","movie","getNewCard","append","Array","length","fill","children","hideOldCardsRevealNew","concat","contentAddHandler","values","url","responseCallback","rejectCallback","fetch","then","res","status","json","Error","mess","message","console","OMDB_API_URL","searchParams","set","OMDB_KEY","ratingCallback","Ratings","find","Source","IMDB_NAME","Value","RATING_NA","basicFetcher","str","TRANSLATIONS_URL","translationCallback","text","searchQuery","NO_SEARCH_RESULT_TEXT","totalResults","Key","value","keyCode","area","mixedKeys","button","createElement","includes","toLowerCase","e","keyDown","keyUp","fn","keyValue","keyRepeatInterval","cursorPosition","selectionStart","interval","setInterval","ShiftLeft","getElementById","ShiftRight","AltLeft","AltRight","repeatKey","setRangeText","toggle","changeLang","toggleCase","shiftSymbols","setSelectionRange","clearInterval","keyboardAppInst","focus","Keyboard","symbols","isEngLang","isUpperCase","isShiftPressed","buttonsEn","buttonsRu","from","querySelectorAll","buttonsSymbolRu","buttonsSymbolEn","window","localStorage","setItem","btn","getSymbolToSwitch","buttonsToChange","textCaseFn","toUpperCase","i","getEngSymbol","j","getRusSymbol","undefined","code","preventDefault","shiftKey","clearBtn","board","init","getItem","generateElements","setHandlers","wrapper","keyboard","createKeysRow","initKeySets","keyboardBtn","row","div","key","appendTo","AppInst","submitBtn","input","notification","setEventsListeners","isRuLang","test","translatedStr","loadNewCards","fetchTranslation","SLIDER_ANIM_DURATION_MS","STOCK_BEFORE_PRELOAD","appInst","cardsContainer","leftBtn","rightBtn","progressElem","cardsContainerWidth","sliderContentWidth","cardWidth","contentOffset","firstCardIndex","loadedCardsCount","totalCardsCount","dragStartX","dragLength","isMouseDown","isAnimating","cardsManager","updateSizes","updateButtonsState","updateProgress","preloadNextPage","buttonClickHandler","mouseDownHandler","x","body","mouseMoveHandler","mouseUpHandler","touches","clientX","hiddenWidth","rightHiddenWidth","cardsHiddenInRight","loadNextPage","someCard","getBoundingClientRect","width","sliderContent","cardsCount","notHidedLeft","freeSpace","setContentOffset","direction","animateMovingContent","left","style","alignCards","hiddenCardPartWidth","Math","round","isRightEndReached","isLeftEndReached","offset","startOffset","duration","timeStart","performance","now","move","timeNow","timePassed","stepDistance","requestAnimationFrame","cardsDisplaying","max","SPEAK_MESSAGE","app","isRecording","searchInput","defaultSearchPlaceholder","placeholder","SR","webkitSpeechRecognition","SpeechRecognition","speech","micBtn","toggleRecording","transcript","results","searchBySpeech","alert","stop","start","abort","elem","classes","child","el","classesArray","split","className","loadImg","DEFAULT_SEARCH_STR","onload"],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;;;;;;AClFA,IAAMA,OAAO,GAAGC,mBAAO,CAAC,mCAAD,CAAvB;;AACA,IAAMC,MAAM,GAAGD,mBAAO,CAAC,iCAAD,CAAtB;;AACA,IAAME,MAAM,GAAGF,mBAAO,CAAC,iCAAD,CAAtB;;AACA,IAAMG,WAAW,GAAGH,mBAAO,CAAC,2CAAD,CAA3B;;AACA,IAAMI,MAAM,GAAGJ,mBAAO,CAAC,iCAAD,CAAtB;;IAEMK,G;AACJ,iBAAc;AAAA;;AACZ,SAAKC,iBAAL,GAAyBC,QAAQ,CAACC,aAAT,CAAuB,sBAAvB,CAAzB;AACA,SAAKC,YAAL,GAAoB,IAAIN,WAAJ,CAAgB,KAAKG,iBAArB,CAApB;AACA,SAAKI,UAAL,GAAkB,IAAIT,MAAJ,CAAW,IAAX,CAAlB;AACA,SAAKU,UAAL,GAAkB,IAAIT,MAAJ,CAAW,IAAX,EAAiB,KAAKQ,UAAtB,CAAlB;AACA,SAAKE,UAAL,GAAkB,IAAIR,MAAJ,CAAW,IAAX,CAAlB;AAEA,SAAKS,SAAL,GAAiB,KAAjB;AACA,SAAKC,IAAL,GAAY,CAAZ;AACA,SAAKC,SAAL,GAAiB,EAAjB;AACD;;;;iCAEYA,S,EAAW;AAAA;;AACtB,UAAI,KAAKF,SAAL,IAAkB,KAAKE,SAAL,KAAmBA,SAAzC,EAAoD;AAClD,aAAKJ,UAAL,CAAgBK,mBAAhB;AACA;AACD;;AAED,WAAKH,SAAL,GAAiB,IAAjB;;AAEA,UAAMI,cAAc,GAAG,SAAjBA,cAAiB,CAACC,OAAD,EAAa;AAClC,YAAMC,QAAQ,GAAGD,OAAO,CAACE,KAAR,IAAiB,KAAlC;;AAEA,YAAIF,OAAO,CAACG,IAAZ,EAAkB;AAChB,eAAI,CAACX,UAAL,CAAgBY,OAAhB,CAAwBJ,OAAO,CAACG,IAAhC,EAAsCH,OAAO,CAACK,KAA9C;;AACA,eAAI,CAACR,SAAL,GAAiBA,SAAjB;AACD;;AAED,aAAI,CAACJ,UAAL,CAAgBK,mBAAhB,CAAoCG,QAApC;;AACA,aAAI,CAACN,SAAL,GAAiB,KAAjB;AACA,aAAI,CAACC,IAAL,GAAY,CAAZ;AACD,OAXD;;AAaA,UAAIC,SAAJ,EAAehB,OAAO,CAACyB,cAAR,CAAuBT,SAAvB,EAAkCE,cAAlC;AAChB;;;mCAEc;AAAA;;AACb,UAAI,KAAKJ,SAAT,EAAoB;AAEpB,WAAKF,UAAL,CAAgBc,UAAhB,CAA2BC,SAA3B,CAAqCC,MAArC,CAA4C,QAA5C;AACA,WAAKd,SAAL,GAAiB,IAAjB;AACA,WAAKC,IAAL,IAAa,CAAb;;AAEA,UAAMc,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACV,OAAD,EAAa;AACpC,YAAMC,QAAQ,GAAGD,OAAO,CAACE,KAAR,IAAiB,IAAlC;AAEA,YAAIF,OAAO,CAACG,IAAZ,EAAkB,MAAI,CAACX,UAAL,CAAgBmB,UAAhB,CAA2BX,OAAO,CAACG,IAAnC;;AAElB,cAAI,CAACV,UAAL,CAAgBK,mBAAhB,CAAoCG,QAApC;;AACA,cAAI,CAACN,SAAL,GAAiB,KAAjB;AACD,OAPD;;AASAd,aAAO,CAACyB,cAAR,CAAuB,KAAKT,SAA5B,EAAuCa,gBAAvC,EAAyD,KAAKd,IAA9D;AACD;;;qCAEgB;AACf,WAAKH,UAAL,CAAgBmB,YAAhB;AACA,WAAKrB,YAAL,CAAkBsB,mBAAlB;AACD;;;;;;AAGHC,MAAM,CAACC,OAAP,GAAiB5B,GAAjB,C;;;;;;;;;;;;;;;;;eCpEgCL,mBAAO,CAAC,iCAAD,C;IAA/BkC,Q,YAAAA,Q;IAAUC,S,YAAAA,S;;AAClB,IAAMC,KAAK,GAAGpC,mBAAO,CAAC,+BAAD,CAArB;;AACA,IAAMD,OAAO,GAAGC,mBAAO,CAAC,mCAAD,CAAvB;;IAEMqC,K;AACJ,iBAAY3B,UAAZ,EAAwB4B,UAAxB,EAAoC;AAAA;;AAAA;;AAClC,SAAK5B,UAAL,GAAkBA,UAAlB;AACA,SAAK6B,MAAL,GAAcD,UAAd;AACA,SAAKjB,IAAL,GAAY,IAAZ;AACA,SAAKmB,sBAAL,GAA8B,KAA9B;AAEA,SAAKC,6BAAL,GAAqC,EAArC;AAEA,SAAKF,MAAL,CAAYG,gBAAZ,CAA6B,eAA7B,EAA8C,UAACC,KAAD,EAAW;AACvD,UAAIA,KAAK,CAACC,MAAN,KAAiB,KAAI,CAACL,MAA1B,EAAkC;AAClC,UAAI,KAAI,CAACC,sBAAT,EAAiC;;AAEjC,WAAI,CAACK,YAAL;AACD,KALD;AAMD;;;;4CAEuB;AACtB,WAAKL,sBAAL,GAA8B,KAA9B;AACA,WAAKD,MAAL,CAAYb,SAAZ,CAAsBoB,GAAtB,CAA0B,aAA1B;AACD;;;2CAEsB;AACrB,WAAKN,sBAAL,GAA8B,IAA9B;AACA,WAAKD,MAAL,CAAYb,SAAZ,CAAsBC,MAAtB,CAA6B,aAA7B;AACD;;;mCAEc;AACb,WAAKY,MAAL,CAAYQ,WAAZ,GAA0B,EAA1B;AACA,WAAKC,WAAL,CAAiB,KAAK3B,IAAtB;AAEA,WAAKX,UAAL,CAAgBuC,qBAAhB;AACD;;;2BAEMC,I,EAAMC,K,EAAO;AAClB,UAAID,IAAI,CAACxB,SAAL,CAAe0B,QAAf,CAAwB,OAAxB,CAAJ,EAAsC;AACtC,UAAIF,IAAI,CAACxB,SAAL,CAAe0B,QAAf,CAAwB,UAAxB,CAAJ,EAAyC;;AACzC,UAAI,CAAC,KAAKZ,sBAAV,EAAkC;AAChC,aAAKC,6BAAL,CAAmCU,KAAnC,IAA4C,IAA5C;AAEA,YAAME,kBAAkB,GAAG,KAAKZ,6BAAL,CAAmCa,KAAnC,CACzB,UAACC,IAAD;AAAA,iBAAUA,IAAV;AAAA,SADyB,CAA3B;AAIA,YAAIF,kBAAJ,EAAwB,KAAKG,oBAAL;AACzB;;AAEDN,UAAI,CAACxB,SAAL,CAAeC,MAAf,CAAsB,aAAtB;AACD;;;yCAEoBW,U,EAAYmB,M,EAAQP,I,EAAMQ,S,EAAW;AACxD,UAAMnB,MAAM,GAAGD,UAAf;AAEAC,YAAM,CAACQ,WAAP,GAAqB,EAArB;AAEA,UAAMY,GAAG,GAAGvB,KAAK,CAACwB,UAAN,CAAiB,KAAjB,EAAwB,cAAxB,EAAwCtB,UAAxC,CAAZ;AACAqB,SAAG,CAACE,GAAJ,GAAU,aAAV;AACAF,SAAG,CAACG,GAAJ,GAAU,uBAAV;AAEA1B,WAAK,CAACwB,UAAN,CAAiB,KAAjB,EAAwB,cAAxB,EAAwCtB,UAAxC,EAAoDmB,MAApD;AAEAP,UAAI,CAACxB,SAAL,CAAeC,MAAf,CAAsB,UAAtB;AACA,WAAKoC,MAAL,CAAYb,IAAZ,EAAkBQ,SAAlB;AACD;;;kCAEaM,E,EAAI1B,U,EAAYY,I,EAAMQ,S,EAAW;AAAA;;AAC7C,UAAMO,QAAQ,GAAG,SAAXA,QAAW,CAACR,MAAD,EAAY;AAC3B,cAAI,CAACS,oBAAL,CAA0B5B,UAA1B,EAAsCmB,MAAtC,EAA8CP,IAA9C,EAAoDQ,SAApD;AACD,OAFD;;AAIA3D,aAAO,CAACoE,eAAR,CAAwBH,EAAxB,EAA4BC,QAA5B;AACD;;;+BAEUf,I,EAAMkB,Y,EAAc/C,I,EAAMqC,S,EAAW;AAAA;;AAC9C,UAAMC,GAAG,GAAGvB,KAAK,CAACwB,UAAN,CAAiB,KAAjB,EAAwB,WAAxB,EAAqCQ,YAArC,CAAZ;AACAT,SAAG,CAACE,GAAJ,GAAUxC,IAAI,CAACgD,KAAf;AACAV,SAAG,CAACG,GAAJ,GAAUzC,IAAI,CAACiD,MAAf;AAEAX,SAAG,CAACjB,gBAAJ,CAAqB,MAArB,EAA6B,YAAM;AACjCQ,YAAI,CAACxB,SAAL,CAAeC,MAAf,CAAsB,OAAtB;;AACA,cAAI,CAACoC,MAAL,CAAYb,IAAZ,EAAkBQ,SAAlB;AACD,OAHD;AAKAC,SAAG,CAACjB,gBAAJ,CAAqB,OAArB,EAA8B,YAAM;AAClC,cAAI,CAAC6B,cAAL,CAAoBH,YAApB,EAAkClB,IAAlC,EAAwCQ,SAAxC;AACD,OAFD;AAGD;;;mCAEcU,Y,EAAclB,I,EAAMQ,S,EAAW;AAC5C,UAAMc,SAAS,GAAGJ,YAAlB;AAEAI,eAAS,CAACzB,WAAV,GAAwBZ,SAAxB;AACAe,UAAI,CAACxB,SAAL,CAAeC,MAAf,CAAsB,OAAtB;AACA,WAAKoC,MAAL,CAAYb,IAAZ,EAAkBQ,SAAlB;AACD;;;+BAEUrC,I,EAAMqC,S,EAAW;AAC1B,UAAMR,IAAI,GAAGd,KAAK,CAACwB,UAAN,CAAiB,KAAjB,EAAwB,iCAAxB,CAAb;AAEA,UAAMa,KAAK,GAAGrC,KAAK,CAACwB,UAAN,CAAiB,GAAjB,EAAsB,aAAtB,EAAqCV,IAArC,EAA2C7B,IAAI,CAACgD,KAAhD,CAAd;AACAI,WAAK,CAACA,KAAN,GAAcpD,IAAI,CAACgD,KAAnB;AACAI,WAAK,CAACC,IAAN,GAAa,IAAIC,GAAJ,iBAAiBtD,IAAI,CAACuD,MAAtB,qBAA8C1C,QAA9C,CAAb;AAEA,UAAMkC,YAAY,GAAGhC,KAAK,CAACwB,UAAN,CAAiB,KAAjB,EAAwB,qBAAxB,EAA+CV,IAA/C,CAArB;;AAEA,UAAI7B,IAAI,CAACiD,MAAL,KAAgB,KAApB,EAA2B;AACzB,aAAKO,UAAL,CAAgB3B,IAAhB,EAAsBkB,YAAtB,EAAoC/C,IAApC,EAA0CqC,SAA1C;AACD,OAFD,MAEO;AACL,aAAKa,cAAL,CAAoBH,YAApB,EAAkClB,IAAlC,EAAwCQ,SAAxC;AACD;;AAEDtB,WAAK,CAACwB,UAAN,CAAiB,KAAjB,EAAwB,YAAxB,EAAsCV,IAAtC,EAA4C7B,IAAI,CAACyD,IAAjD;AAEA,UAAMrB,MAAM,GAAGrB,KAAK,CAACwB,UAAN,CAAiB,KAAjB,EAAwB,cAAxB,EAAwCV,IAAxC,EAA8C7B,IAAI,CAAC0D,MAAnD,CAAf;AACA3C,WAAK,CAAC4C,wBAAN,CAA+BvB,MAA/B;AAEA,WAAKwB,aAAL,CAAmB5D,IAAI,CAACuD,MAAxB,EAAgCnB,MAAhC,EAAwCP,IAAxC,EAA8CQ,SAA9C;AAEA,aAAOR,IAAP;AACD;;;gCAEW7B,I,EAAM;AAAA;;AAChB,UAAM6D,QAAQ,GAAG,IAAIC,gBAAJ,EAAjB;AAEA9D,UAAI,CAAC+D,OAAL,CAAa,UAACC,KAAD,EAAQ3B,SAAR,EAAsB;AACjC,YAAMR,IAAI,GAAG,MAAI,CAACoC,UAAL,CAAgBD,KAAhB,EAAuB3B,SAAvB,CAAb;;AACAwB,gBAAQ,CAACK,MAAT,CAAgBrC,IAAhB;AACD,OAHD;AAKA,WAAKX,MAAL,CAAYgD,MAAZ,CAAmBL,QAAnB;AACD;;;4BAEO7D,I,EAAM;AACZ,UAAI,CAACA,IAAL,EAAW;AAEX,WAAKA,IAAL,GAAYA,IAAZ;AACA,WAAKoB,6BAAL,GAAqC,IAAI+C,KAAJ,CAAUnE,IAAI,CAACoE,MAAf,EAAuBC,IAAvB,CAA4B,KAA5B,CAArC;AAEA,UAAI,KAAKnD,MAAL,CAAYoD,QAAZ,CAAqBF,MAAzB,EAAiC,KAAKG,qBAAL,GAAjC,KACK,KAAK/C,YAAL;AACN;;;+BAEUxB,I,EAAM;AACf,UAAI,CAACA,IAAL,EAAW;AAEX,WAAKA,IAAL,GAAY,KAAKA,IAAL,CAAUwE,MAAV,CAAiBxE,IAAjB,CAAZ;AAEA,WAAK2B,WAAL,CAAiB3B,IAAjB;AACA,WAAKX,UAAL,CAAgBoF,iBAAhB;AACD;;;;;;AAGH9D,MAAM,CAACC,OAAP,GAAiBI,KAAjB,C;;;;;;;;;;;;;;;;;AC5JA,IAAM0D,MAAM,GAAG/F,mBAAO,CAAC,iCAAD,CAAtB;;IAEMD,O;;;;;;;iCACgBiG,G,EAAKC,gB,EAAkBC,c,EAAgB;AACzDC,WAAK,CAACH,GAAD,CAAL,CACGI,IADH,CACQ,UAACC,GAAD,EAAS;AACb,YAAIA,GAAG,CAACC,MAAJ,IAAc,GAAd,IAAqBD,GAAG,CAACC,MAAJ,GAAa,GAAtC,EAA2C,OAAOD,GAAG,CAACE,IAAJ,EAAP;AAE3C,cAAM,IAAIC,KAAJ,CAAUH,GAAG,CAACC,MAAd,CAAN;AACD,OALH,EAMGF,IANH,CAMQ,UAACG,IAAD,EAAU;AACdN,wBAAgB,CAACM,IAAD,CAAhB;AACD,OARH,WASS,UAACnF,KAAD,EAAW;AAChB,YAAMqF,IAAI,GAAG,CAACrF,KAAK,CAACsF,OAApB;;AAEA,YAAIR,cAAc,IAAIO,IAAI,IAAI,GAA1B,IAAiCA,IAAI,GAAG,GAA5C,EAAiD;AAC/CP,wBAAc,eAAQ9E,KAAR,EAAd,CAD+C,CAE/C;AACD,SAHD,MAGOuF,OAAO,CAACvF,KAAR,CAAcA,KAAd;AACR,OAhBH;AAiBD;;;oCAEsB4C,E,EAAIC,Q,EAAU;AACnC,UAAM+B,GAAG,GAAG,IAAIrB,GAAJ,CAAQoB,MAAM,CAACa,YAAf,CAAZ;AACAZ,SAAG,CAACa,YAAJ,CAAiBC,GAAjB,CAAqB,GAArB,EAA0B9C,EAA1B;AACAgC,SAAG,CAACa,YAAJ,CAAiBC,GAAjB,CAAqB,QAArB,EAA+Bf,MAAM,CAACgB,QAAtC;;AAEA,UAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACT,IAAD,EAAU;AAC/B,YAAM9C,MAAM,GAAG8C,IAAI,CAACU,OAAL,CAAaC,IAAb,CACb,UAAC3D,IAAD;AAAA,iBAAUA,IAAI,CAAC4D,MAAL,KAAgBpB,MAAM,CAACqB,SAAjC;AAAA,SADa,CAAf;AAIA,YAAI3D,MAAJ,EAAYQ,QAAQ,CAACR,MAAM,CAAC4D,KAAR,CAAR,CAAZ,KACKpD,QAAQ,CAAC8B,MAAM,CAACuB,SAAR,CAAR;AACN,OAPD;;AASAvH,aAAO,CAACwH,YAAR,CAAqBvB,GAArB,EAA0BgB,cAA1B;AACD;;;qCAEuBQ,G,EAAKvD,Q,EAAU;AACrC,UAAM+B,GAAG,GAAG,IAAIrB,GAAJ,CAAQoB,MAAM,CAAC0B,gBAAP,GAA0BD,GAAlC,CAAZ;;AAEA,UAAME,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACnB,IAAD,EAAU;AACpC,YAAIA,IAAI,CAACoB,IAAT,EAAe1D,QAAQ,CAACsC,IAAI,CAACoB,IAAL,CAAU,CAAV,CAAD,CAAR,CAAf,KACK1D,QAAQ,CAACuD,GAAD,CAAR;AACN,OAHD;;AAKAzH,aAAO,CAACwH,YAAR,CAAqBvB,GAArB,EAA0B0B,mBAA1B;AACD;;;mCAEqBE,W,EAAa3D,Q,EAAoB;AAAA,UAAVnD,IAAU,uEAAH,CAAG;AACrD,UAAMkF,GAAG,GAAG,IAAIrB,GAAJ,CAAQoB,MAAM,CAACa,YAAf,CAAZ;AACAZ,SAAG,CAACa,YAAJ,CAAiBC,GAAjB,CAAqB,QAArB,EAA+Bf,MAAM,CAACgB,QAAtC;AACAf,SAAG,CAACa,YAAJ,CAAiBC,GAAjB,CAAqB,MAArB,EAA6BhG,IAA7B;AACAkF,SAAG,CAACa,YAAJ,CAAiBC,GAAjB,CAAqB,GAArB,EAA0Bc,WAA1B;AACA5B,SAAG,CAACa,YAAJ,CAAiBC,GAAjB,CAAqB,MAArB,EAA6B,OAA7B;;AAEA,UAAM7F,cAAc,GAAG,SAAjBA,cAAiB,CAACsF,IAAD,EAAU;AAC/B,YAAIrF,OAAJ;;AAEA,YAAIqF,IAAI,CAACC,KAAT,EAAgB;AACdtF,iBAAO,GAAG;AAAEE,iBAAK,YAAK2E,MAAM,CAAC8B,qBAAZ,cAAqCD,WAArC;AAAP,WAAV;AACD,SAFD,MAEO1G,OAAO,GAAG;AAAEG,cAAI,EAAEkF,IAAI,CAACrG,MAAb;AAAqBqB,eAAK,EAAEgF,IAAI,CAACuB;AAAjC,SAAV;;AAEP7D,gBAAQ,CAAC/C,OAAD,CAAR;AACD,OARD;;AAUA,UAAMgF,cAAc,GAAG,SAAjBA,cAAiB,CAACQ,OAAD,EAAa;AAClCzC,gBAAQ,CAAC;AAAE7C,eAAK,EAAEsF;AAAT,SAAD,CAAR;AACD,OAFD;;AAIA3G,aAAO,CAACwH,YAAR,CAAqBvB,GAArB,EAA0B/E,cAA1B,EAA0CiF,cAA1C;AACD;;;;;;AAGHlE,MAAM,CAACC,OAAP,GAAiBlC,OAAjB,C;;;;;;;;;;;;;;;;;IC5EMgI,G;AACJ,eAAYtH,YAAZ,EAA0BuH,KAA1B,EAAiCC,OAAjC,EAA0C;AAAA;;AACxC,SAAKxH,YAAL,GAAoBA,YAApB;AACA,SAAKuH,KAAL,GAAaA,KAAb;AACA,SAAKC,OAAL,GAAeA,OAAf;AACA,SAAKC,IAAL,GAAYzH,YAAY,CAACyH,IAAzB,CAJwC,CAKxC;;AACA,SAAKC,SAAL,GAAiB,CACf,WADe,EAEf,aAFe,EAGf,cAHe,EAIf,WAJe,EAKf,OALe,EAMf,OANe,EAOf,QAPe,CAAjB;AASD;;;;6BAEQjD,Q,EAAU;AAAA;;AACjB,UAAMkD,MAAM,GAAG7H,QAAQ,CAAC8H,aAAT,CAAuB,QAAvB,CAAf;AACAD,YAAM,CAAC1G,SAAP,CAAiBoB,GAAjB,CAAqB,kBAArB;;AAEA,UAAI,KAAKkF,KAAT,EAAgB;AACd,YAAI,KAAKC,OAAL,CAAaK,QAAb,CAAsB,KAAtB,CAAJ,EAAkC;AAChCF,gBAAM,CAAC1G,SAAP,CAAiBoB,GAAjB,CAAqB,QAArB;AACD,SAFD,MAEO,IAAI,KAAKqF,SAAL,CAAeG,QAAf,CAAwB,KAAKL,OAA7B,CAAJ,EAA2C;AAChDG,gBAAM,CAAC1G,SAAP,CAAiBoB,GAAjB,CAAqB,OAArB;AACD,SAFM,MAEA;AACLsF,gBAAM,CAAC1G,SAAP,CAAiBoB,GAAjB,CAAqB,QAArB;AACD;;AAEDsF,cAAM,CAAC7C,MAAP,CAAc,KAAKyC,KAAnB;AACD,OAVD,MAUO;AACLI,cAAM,CAAC1G,SAAP,CAAiBoB,GAAjB,CAAqB,YAArB;AACAsF,cAAM,CAAC1G,SAAP,CAAiBoB,GAAjB,CAAqB,KAAKmF,OAAL,CAAaM,WAAb,EAArB;AACAH,cAAM,CAAC7C,MAAP,CAAc,KAAK0C,OAAnB;AACD;;AAEDG,YAAM,CAAC1F,gBAAP,CAAwB,WAAxB,EAAqC,UAAC8F,CAAD;AAAA,eAAO,KAAI,CAACC,OAAL,CAAaD,CAAb,CAAP;AAAA,OAArC;AACAJ,YAAM,CAAC1F,gBAAP,CAAwB,SAAxB,EAAmC;AAAA,eAAM,KAAI,CAACgG,KAAL,EAAN;AAAA,OAAnC;AACAN,YAAM,CAAC1F,gBAAP,CAAwB,UAAxB,EAAoC;AAAA,eAAM,KAAI,CAACgG,KAAL,EAAN;AAAA,OAApC;AACAN,YAAM,CAACpE,EAAP,GAAY,KAAKiE,OAAjB;AACA/C,cAAQ,CAACK,MAAT,CAAgB6C,MAAhB;AACA,aAAOlD,QAAP;AACD;;;8BAESyD,E,EAAIC,Q,EAAU;AACtB,UAAMC,iBAAiB,GAAG,GAA1B;AACA,WAAKpI,YAAL,CAAkBqI,cAAlB,GAAmC,KAAKZ,IAAL,CAAUa,cAA7C;AACAJ,QAAE,CAACC,QAAD,CAAF;AACA,WAAKI,QAAL,GAAgBC,WAAW,CAACN,EAAD,EAAKE,iBAAL,EAAwBD,QAAxB,CAA3B;AACD;;;4BAEOjG,K,EAAO;AAAA;;AACb,UAAMuG,SAAS,GAAG3I,QAAQ,CAAC4I,cAAT,CAAwB,WAAxB,CAAlB;AACA,UAAMC,UAAU,GAAG7I,QAAQ,CAAC4I,cAAT,CAAwB,YAAxB,CAAnB;AACA,UAAME,OAAO,GAAG9I,QAAQ,CAAC4I,cAAT,CAAwB,SAAxB,CAAhB;AACA,UAAMG,QAAQ,GAAG/I,QAAQ,CAAC4I,cAAT,CAAwB,UAAxB,CAAjB;;AAEA,cAAQxG,KAAK,CAACC,MAAN,CAAaoB,EAArB;AACE,aAAK,WAAL;AACE,eAAKuF,SAAL,CAAe,YAAM;AACnB,gBAAI,MAAI,CAAC9I,YAAL,CAAkBqI,cAAlB,IAAoC,CAAxC,EAA2C;;AAE3C,kBAAI,CAACZ,IAAL,CAAUsB,YAAV,CACE,EADF,EAEE,MAAI,CAAC/I,YAAL,CAAkBqI,cAAlB,GAAmC,CAFrC,EAGE,MAAI,CAACrI,YAAL,CAAkBqI,cAHpB,EAIE,KAJF;AAMD,WATD;AAUA;;AACF,aAAK,OAAL;AACE,eAAKS,SAAL,CAAe,YAAM;AACnB,kBAAI,CAACrB,IAAL,CAAUsB,YAAV,CACE,GADF,EAEE,MAAI,CAAC/I,YAAL,CAAkBqI,cAFpB,EAGE,MAAI,CAACrI,YAAL,CAAkBqI,cAHpB,EAIE,KAJF;AAMD,WAPD;AAQA;;AACF,aAAK,KAAL;AACE,eAAKS,SAAL,CAAe,YAAM;AACnB,kBAAI,CAACrB,IAAL,CAAUsB,YAAV,CACE,MADF,EAEE,MAAI,CAAC/I,YAAL,CAAkBqI,cAFpB,EAGE,MAAI,CAACrI,YAAL,CAAkBqI,cAHpB,EAIE,KAJF;AAMD,WAPD;AAQA;;AACF,aAAK,OAAL;AACE;;AACF,aAAK,WAAL;AACA,aAAK,YAAL;AACEI,mBAAS,CAACxH,SAAV,CAAoB+H,MAApB,CAA2B,eAA3B;AACAL,oBAAU,CAAC1H,SAAX,CAAqB+H,MAArB,CAA4B,eAA5B;;AAEA,cAAIJ,OAAO,CAAC3H,SAAR,CAAkB0B,QAAlB,CAA2B,eAA3B,CAAJ,EAAiD;AAC/C8F,qBAAS,CAACxH,SAAV,CAAoBC,MAApB,CAA2B,eAA3B;AACAyH,sBAAU,CAAC1H,SAAX,CAAqBC,MAArB,CAA4B,eAA5B;AACA0H,mBAAO,CAAC3H,SAAR,CAAkBC,MAAlB,CAAyB,eAAzB;AACA2H,oBAAQ,CAAC5H,SAAT,CAAmBC,MAAnB,CAA0B,eAA1B;AACA,iBAAKlB,YAAL,CAAkBiJ,UAAlB;AACD,WAND,MAMO;AACL,iBAAKjJ,YAAL,CAAkBkJ,UAAlB;AACA,iBAAKlJ,YAAL,CAAkBmJ,YAAlB;AACD;;AACD;;AACF,aAAK,UAAL;AACE,eAAKnJ,YAAL,CAAkBkJ,UAAlB;AACA;;AACF,aAAK,SAAL;AACA,aAAK,UAAL;AACEN,iBAAO,CAAC3H,SAAR,CAAkB+H,MAAlB,CAAyB,eAAzB;AACAH,kBAAQ,CAAC5H,SAAT,CAAmB+H,MAAnB,CAA0B,eAA1B;;AAEA,cAAIP,SAAS,CAACxH,SAAV,CAAoB0B,QAApB,CAA6B,eAA7B,CAAJ,EAAmD;AACjD8F,qBAAS,CAACxH,SAAV,CAAoBC,MAApB,CAA2B,eAA3B;AACAyH,sBAAU,CAAC1H,SAAX,CAAqBC,MAArB,CAA4B,eAA5B;AACA0H,mBAAO,CAAC3H,SAAR,CAAkBC,MAAlB,CAAyB,eAAzB;AACA2H,oBAAQ,CAAC5H,SAAT,CAAmBC,MAAnB,CAA0B,eAA1B;AACA,iBAAKlB,YAAL,CAAkBiJ,UAAlB;AACD;;AACD;;AACF,aAAK,MAAL;AACE,eAAKjJ,YAAL,CAAkBiJ,UAAlB;AACA;;AACF,aAAK,WAAL;AACE,eAAKH,SAAL,CAAe,YAAM;AACnB,gBAAI,MAAI,CAAC9I,YAAL,CAAkBqI,cAAlB,IAAoC,CAAxC,EAA2C;;AAE3C,kBAAI,CAACZ,IAAL,CAAU2B,iBAAV,CACE,MAAI,CAACpJ,YAAL,CAAkBqI,cAAlB,GAAmC,CADrC,EAEE,MAAI,CAACrI,YAAL,CAAkBqI,cAAlB,GAAmC,CAFrC;AAID,WAPD;AAQA;;AACF,aAAK,YAAL;AACE,eAAKS,SAAL,CAAe,YAAM;AACnB,gBAAI,MAAI,CAACrB,IAAL,CAAUF,KAAV,CAAgBvC,MAAhB,IAA0B,MAAI,CAAChF,YAAL,CAAkBqI,cAAhD,EAAgE;AAC9D;AACD;;AAED,kBAAI,CAACZ,IAAL,CAAU2B,iBAAV,CACE,MAAI,CAACpJ,YAAL,CAAkBqI,cAAlB,GAAmC,CADrC,EAEE,MAAI,CAACrI,YAAL,CAAkBqI,cAAlB,GAAmC,CAFrC;AAID,WATD;AAUA;;AACF;AACE,eAAKS,SAAL,CAAe,UAAC5B,IAAD,EAAU;AACvB,kBAAI,CAACO,IAAL,CAAUsB,YAAV,CACE7B,IADF,EAEE,MAAI,CAAClH,YAAL,CAAkBqI,cAFpB,EAGE,MAAI,CAACrI,YAAL,CAAkBqI,cAHpB,EAIE,KAJF;AAMD,WAPD,EAOGnG,KAAK,CAACC,MAAN,CAAaG,WAPhB;AAQA;AArGJ;AAuGD;;;4BAEO;AACN+G,mBAAa,CAAC,KAAKd,QAAN,CAAb;AACA,WAAKvI,YAAL,CAAkBsJ,eAAlB,CAAkChI,mBAAlC;AACA,WAAKmG,IAAL,CAAU8B,KAAV;AACD;;;;;;AAGHhI,MAAM,CAACC,OAAP,GAAiB8F,GAAjB,C;;;;;;;;;;;;;;;;;IC3KMkC,Q;AACJ,oBAAYF,eAAZ,EAA6B;AAAA;;AAC3B,SAAKG,OAAL,GAAe,CACb,CACE,CAAC,MAAD,EAAS,WAAT,CADF,EAEE,CAAC,MAAD,EAAS,QAAT,CAFF,EAGE,CAAC,MAAD,EAAS,QAAT,CAHF,EAIE,CAAC,MAAD,EAAS,QAAT,CAJF,EAKE,CAAC,MAAD,EAAS,QAAT,CALF,EAME,CAAC,MAAD,EAAS,QAAT,CANF,EAOE,CAAC,MAAD,EAAS,QAAT,CAPF,EAQE,CAAC,MAAD,EAAS,QAAT,CARF,EASE,CAAC,MAAD,EAAS,QAAT,CATF,EAUE,CAAC,MAAD,EAAS,QAAT,CAVF,EAWE,CAAC,MAAD,EAAS,QAAT,CAXF,EAYE,CAAC,MAAD,EAAS,OAAT,CAZF,EAaE,CAAC,MAAD,EAAS,OAAT,CAbF,EAcE,CAAC,EAAD,EAAK,WAAL,CAdF,CADa,EAiBb,CACE,CAAC,EAAD,EAAK,KAAL,CADF,EAEE,CAAC,MAAD,EAAS,MAAT,CAFF,EAGE,CAAC,MAAD,EAAS,MAAT,CAHF,EAIE,CAAC,MAAD,EAAS,MAAT,CAJF,EAKE,CAAC,MAAD,EAAS,MAAT,CALF,EAME,CAAC,MAAD,EAAS,MAAT,CANF,EAOE,CAAC,MAAD,EAAS,MAAT,CAPF,EAQE,CAAC,MAAD,EAAS,MAAT,CARF,EASE,CAAC,MAAD,EAAS,MAAT,CATF,EAUE,CAAC,MAAD,EAAS,MAAT,CAVF,EAWE,CAAC,MAAD,EAAS,MAAT,CAXF,EAYE,CAAC,MAAD,EAAS,aAAT,CAZF,EAaE,CAAC,MAAD,EAAS,cAAT,CAbF,EAcE,CAAC,QAAD,EAAW,WAAX,CAdF,CAjBa,EAiCb,CACE,CAAC,EAAD,EAAK,UAAL,CADF,EAEE,CAAC,MAAD,EAAS,MAAT,CAFF,EAGE,CAAC,MAAD,EAAS,MAAT,CAHF,EAIE,CAAC,MAAD,EAAS,MAAT,CAJF,EAKE,CAAC,MAAD,EAAS,MAAT,CALF,EAME,CAAC,MAAD,EAAS,MAAT,CANF,EAOE,CAAC,MAAD,EAAS,MAAT,CAPF,EAQE,CAAC,MAAD,EAAS,MAAT,CARF,EASE,CAAC,MAAD,EAAS,MAAT,CATF,EAUE,CAAC,MAAD,EAAS,MAAT,CAVF,EAWE,CAAC,MAAD,EAAS,WAAT,CAXF,EAYE,CAAC,OAAD,EAAU,OAAV,CAZF,EAaE,CAAC,EAAD,EAAK,OAAL,CAbF,CAjCa,EAgDb,CACE,CAAC,EAAD,EAAK,WAAL,CADF,EAEE,CAAC,MAAD,EAAS,MAAT,CAFF,EAGE,CAAC,MAAD,EAAS,MAAT,CAHF,EAIE,CAAC,MAAD,EAAS,MAAT,CAJF,EAKE,CAAC,MAAD,EAAS,MAAT,CALF,EAME,CAAC,MAAD,EAAS,MAAT,CANF,EAOE,CAAC,MAAD,EAAS,MAAT,CAPF,EAQE,CAAC,MAAD,EAAS,MAAT,CARF,EASE,CAAC,MAAD,EAAS,OAAT,CATF,EAUE,CAAC,MAAD,EAAS,QAAT,CAVF,EAWE,CAAC,MAAD,EAAS,OAAT,CAXF,EAYE,CAAC,EAAD,EAAK,YAAL,CAZF,CAhDa,EA8Db,CACE,CAAC,EAAD,EAAK,aAAL,CADF,EAEE,CAAC,EAAD,EAAK,SAAL,CAFF,EAGE,CAAC,EAAD,EAAK,OAAL,CAHF,EAIE,CAAC,EAAD,EAAK,UAAL,CAJF,EAKE,CAAC,EAAD,EAAK,MAAL,CALF,EAME,CAAC,MAAD,EAAS,WAAT,CANF,EAOE,CAAC,MAAD,EAAS,YAAT,CAPF,CA9Da,CAAf;AAyEA,SAAKH,eAAL,GAAuBA,eAAvB;AACA,SAAK7B,IAAL,GAAY6B,eAAe,CAAC7B,IAA5B;AACA,SAAKiC,SAAL,GAAiB,IAAjB;AACA,SAAKC,WAAL,GAAmB,IAAnB;AACA,SAAKC,cAAL,GAAsB,KAAtB;AACA,SAAKvB,cAAL,GAAsB,CAAtB;AAEA,SAAKwB,SAAL,GAAiB,IAAjB;AACA,SAAKnC,SAAL,GAAiB,IAAjB;AACA,SAAKoC,SAAL,GAAiB,IAAjB;AACD;;;;kCAEa;AACZ,WAAKD,SAAL,GAAiB9E,KAAK,CAACgF,IAAN,CAAWjK,QAAQ,CAACkK,gBAAT,CAA0B,SAA1B,CAAX,CAAjB;AACA,WAAKtC,SAAL,GAAiB3C,KAAK,CAACgF,IAAN,CAAWjK,QAAQ,CAACkK,gBAAT,CAA0B,QAA1B,CAAX,CAAjB;AACA,WAAKC,eAAL,GAAuBlF,KAAK,CAACgF,IAAN,CAAWjK,QAAQ,CAACkK,gBAAT,CAA0B,SAA1B,CAAX,CAAvB;AAEA,WAAKE,eAAL,GAAuB,KAAKD,eAAL,CAAqB7E,MAArB,CAA4B,KAAKsC,SAAjC,CAAvB;AACA,WAAKoC,SAAL,GAAiB,KAAKD,SAAL,CAAezE,MAAf,CAAsB,KAAKsC,SAA3B,CAAjB;AACD;;;iCAEY;AAAA;;AACX,WAAKgC,SAAL,GAAiB,CAAC,KAAKA,SAAvB;AACAS,YAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,MAA5B,EAAoC,KAAKX,SAAzC;AAEA,WAAKI,SAAL,CAAenF,OAAf,CAAuB,UAACgD,MAAD,EAAY;AACjC,YAAM2C,GAAG,GAAG3C,MAAZ;AACA2C,WAAG,CAAChI,WAAJ,GAAkB,KAAI,CAACiI,iBAAL,CAAuB5C,MAAM,CAACpE,EAA9B,CAAlB;AACD,OAHD;AAID;;;iCAUY;AACX,UAAIiH,eAAJ;AACA,UAAIC,UAAJ;AAEA,WAAKd,WAAL,GAAmB,CAAC,KAAKA,WAAzB;AAEA,UAAI,KAAKD,SAAT,EAAoBc,eAAe,GAAG,KAAKX,SAAvB,CAApB,KACKW,eAAe,GAAG,KAAKV,SAAvB;AAEL,UAAI,KAAKH,WAAT,EAAsBc,UAAU,GAAGjB,QAAQ,CAAC1B,WAAtB,CAAtB,KACK2C,UAAU,GAAGjB,QAAQ,CAACkB,WAAtB;;AAEL,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,eAAe,CAACxF,MAApC,EAA4C2F,CAAC,IAAI,CAAjD,EAAoD;AAClDH,uBAAe,CAACG,CAAD,CAAf,CAAmBrI,WAAnB,GAAiCmI,UAAU,CACzCD,eAAe,CAACG,CAAD,CAAf,CAAmBrI,WADsB,CAA3C;AAGD;AACF;;;sCAEiBiB,E,EAAI;AAAA;;AACpB,UAAMqH,YAAY,GAAG,SAAfA,YAAe,CAACD,CAAD,EAAIE,CAAJ,EAAU;AAC7B,YAAI,MAAI,CAACjB,cAAT,EAAyB;AACvB,iBAAO,MAAI,CAACH,OAAL,CAAakB,CAAb,EAAgBE,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,CAAP;AACD;;AAED,eAAO,MAAI,CAACpB,OAAL,CAAakB,CAAb,EAAgBE,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,CAAP;AACD,OAND;;AAQA,UAAMC,YAAY,GAAG,SAAfA,YAAe,CAACH,CAAD,EAAIE,CAAJ,EAAU;AAC7B,YAAI,MAAI,CAACjB,cAAT,EAAyB;AACvB,iBAAO,MAAI,CAACH,OAAL,CAAakB,CAAb,EAAgBE,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,CAAP;AACD;;AACD,eAAO,MAAI,CAACpB,OAAL,CAAakB,CAAb,EAAgBE,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,CAAP;AACD,OALD;;AAOA,WAAK,IAAIF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKlB,OAAL,CAAazE,MAAjC,EAAyC2F,CAAC,IAAI,CAA9C,EAAiD;AAC/C,aAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKpB,OAAL,CAAakB,CAAb,EAAgB3F,MAApC,EAA4C6F,CAAC,IAAI,CAAjD,EAAoD;AAClD,cAAI,KAAKpB,OAAL,CAAakB,CAAb,EAAgBE,CAAhB,EAAmBhD,QAAnB,CAA4BtE,EAA5B,CAAJ,EAAqC;AACnC,gBAAI,KAAKmG,SAAT,EAAoB;AAClB,qBAAOkB,YAAY,CAACD,CAAD,EAAIE,CAAJ,CAAnB;AACD;;AAED,mBAAOC,YAAY,CAACH,CAAD,EAAIE,CAAJ,CAAnB;AACD;AACF;AACF;;AAED,aAAOE,SAAP;AACD;;;mCAEc;AACb,UAAIP,eAAJ;AAEA,UAAI,KAAKd,SAAT,EAAoBc,eAAe,GAAG,KAAKN,eAAvB,CAApB,KACKM,eAAe,GAAG,KAAKP,eAAvB;AAEL,WAAKL,cAAL,GAAsB,CAAC,KAAKA,cAA5B;;AAEA,WAAK,IAAIe,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,eAAe,CAACxF,MAApC,EAA4C2F,CAAC,IAAI,CAAjD,EAAoD;AAClDH,uBAAe,CAACG,CAAD,CAAf,CAAmBrI,WAAnB,GAAiC,KAAKiI,iBAAL,CAC/BC,eAAe,CAACG,CAAD,CAAf,CAAmBpH,EADY,CAAjC;AAGD;AACF;;;kCAEawE,C,EAAG;AACf,UAAMJ,MAAM,GAAG7H,QAAQ,CAAC4I,cAAT,CAAwBX,CAAC,CAACiD,IAA1B,CAAf;;AAEA,UAAIrD,MAAJ,EAAY;AACVA,cAAM,CAAC1G,SAAP,CAAiBoB,GAAjB,CAAqB,eAArB;AACD,OAFD,MAEO;AACL;AACD;;AAED0F,OAAC,CAACkD,cAAF;;AAEA,cAAQlD,CAAC,CAACiD,IAAV;AACE,aAAK,WAAL;AACA,aAAK,YAAL;AACE,eAAK9B,UAAL;AACA,eAAKC,YAAL;AACA;;AACF,aAAK,OAAL;AACE,eAAKd,cAAL,GAAsB,KAAKZ,IAAL,CAAUa,cAAhC;AAEA,eAAKb,IAAL,CAAUsB,YAAV,CACE,GADF,EAEE,KAAKV,cAFP,EAGE,KAAKA,cAHP,EAIE,KAJF;AAMA;;AACF,aAAK,KAAL;AACE,eAAKA,cAAL,GAAsB,KAAKZ,IAAL,CAAUa,cAAhC;AAEA,eAAKb,IAAL,CAAUsB,YAAV,CACE,MADF,EAEE,KAAKV,cAFP,EAGE,KAAKA,cAHP,EAIE,KAJF;AAMA;;AACF,aAAK,OAAL;AACE;;AACF,aAAK,WAAL;AACE,eAAKA,cAAL,GAAsB,KAAKZ,IAAL,CAAUa,cAAhC;AAEA,cAAI,KAAKD,cAAL,IAAuB,CAA3B,EAA8B;AAE9B,eAAKZ,IAAL,CAAUsB,YAAV,CACE,EADF,EAEE,KAAKV,cAAL,GAAsB,CAFxB,EAGE,KAAKA,cAHP,EAIE,KAJF;AAMA;;AACF,aAAK,WAAL;AACE,eAAKA,cAAL,GAAsB,KAAKZ,IAAL,CAAUa,cAAhC;AAEA,cAAI,KAAKD,cAAL,IAAuB,CAA3B,EAA8B;AAE9B,eAAKZ,IAAL,CAAU2B,iBAAV,CACE,KAAKf,cAAL,GAAsB,CADxB,EAEE,KAAKA,cAAL,GAAsB,CAFxB;AAIA;;AACF,aAAK,YAAL;AACE,eAAKA,cAAL,GAAsB,KAAKZ,IAAL,CAAUa,cAAhC;AAEA,cAAI,KAAKb,IAAL,CAAUF,KAAV,CAAgBvC,MAAhB,IAA0B,KAAKqD,cAAnC,EAAmD;AAEnD,eAAKZ,IAAL,CAAU2B,iBAAV,CACE,KAAKf,cAAL,GAAsB,CADxB,EAEE,KAAKA,cAAL,GAAsB,CAFxB;AAIA;;AACF;AACE,cAAIV,MAAM,CAAC1G,SAAP,CAAiB0B,QAAjB,CAA0B,YAA1B,CAAJ,EAA6C;AAE7C,eAAK0F,cAAL,GAAsB,KAAKZ,IAAL,CAAUa,cAAhC;AAEA,eAAKb,IAAL,CAAUsB,YAAV,CACEpB,MAAM,CAACrF,WADT,EAEE,KAAK+F,cAFP,EAGE,KAAKA,cAHP,EAIE,KAJF;AAMA;AAvEJ;AAyED;;;gCAEWN,C,EAAG;AACb,UAAMJ,MAAM,GAAG7H,QAAQ,CAAC4I,cAAT,CAAwBX,CAAC,CAACiD,IAA1B,CAAf;;AACA,UAAIrD,MAAJ,EAAY;AACVA,cAAM,CAAC1G,SAAP,CAAiBC,MAAjB,CAAwB,eAAxB;AACD,OAFD,MAEO;AACL;AACD;;AAED6G,OAAC,CAACkD,cAAF;;AAEA,cAAQlD,CAAC,CAACiD,IAAV;AACE,aAAK,WAAL;AACA,aAAK,YAAL;AACE,eAAK9B,UAAL;AACA,eAAKC,YAAL;AACA;;AACF,aAAK,UAAL;AACE,eAAKD,UAAL;AACA;;AACF;AACE,cAAInB,CAAC,CAACiD,IAAF,CAAOnD,QAAP,CAAgB,KAAhB,KAA0BE,CAAC,CAACmD,QAAhC,EAA0C;AACxC,iBAAKjC,UAAL;AACD;;AACD;AAbJ;;AAgBA,WAAKxB,IAAL,CAAU8B,KAAV;AACD;;;gCA1LkBrC,I,EAAM;AACvB,aAAOA,IAAI,CAACY,WAAL,EAAP;AACD;;;gCAEkBZ,I,EAAM;AACvB,aAAOA,IAAI,CAACwD,WAAL,EAAP;AACD;;;;;;AAuLHnJ,MAAM,CAACC,OAAP,GAAiBgI,QAAjB,C;;;;;;;;;;;;;;;;;ACvSA,IAAMA,QAAQ,GAAGjK,mBAAO,CAAC,qCAAD,CAAxB;;AACA,IAAM+H,GAAG,GAAG/H,mBAAO,CAAC,2BAAD,CAAnB;;IAEMG,W;AACJ,uBAAYmC,UAAZ,EAAwB;AAAA;;AACtB,SAAKA,UAAL,GAAkBA,UAAlB;AACA,SAAKsJ,QAAL,GAAgBrL,QAAQ,CAACC,aAAT,CAAuB,uBAAvB,CAAhB;AACA,SAAK0H,IAAL,GAAY3H,QAAQ,CAACC,aAAT,CAAuB,gBAAvB,CAAZ;AACA,SAAKqL,KAAL,GAAa,IAAI5B,QAAJ,CAAa,IAAb,CAAb;AAEA,SAAK6B,IAAL;AACD;;;;2BAEM;AACL,UAAIlB,MAAM,CAACC,YAAP,CAAoBkB,OAApB,CAA4B,MAA5B,CAAJ,EAAyC;AACvC,aAAKF,KAAL,CAAW1B,SAAX,GAAuBS,MAAM,CAACC,YAAP,CAAoBkB,OAApB,CAA4B,MAA5B,MAAwC,MAA/D;AACD;;AAED,WAAKC,gBAAL,CAAsB,KAAK1J,UAA3B;AACA,WAAK2J,WAAL;AACD;;;qCAEgBC,O,EAAS;AACxB,UAAMC,QAAQ,GAAG5L,QAAQ,CAAC8H,aAAT,CAAuB,KAAvB,CAAjB;AACA8D,cAAQ,CAACzK,SAAT,CAAmBoB,GAAnB,CAAuB,UAAvB;AACAqJ,cAAQ,CAACnI,EAAT,GAAc,UAAd;AACAkI,aAAO,CAAC3G,MAAR,CAAe4G,QAAf;;AAEA,WAAK,IAAIf,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKS,KAAL,CAAW3B,OAAX,CAAmBzE,MAAvC,EAA+C2F,CAAC,IAAI,CAApD,EAAuD;AACrD,aAAKgB,aAAL,CAAmB,KAAKP,KAAL,CAAW3B,OAAX,CAAmBkB,CAAnB,CAAnB,EAA0Ce,QAA1C;AACD;;AAED,WAAKN,KAAL,CAAWQ,WAAX;AACD;;;kCAEa;AAAA;;AACZ,UAAMC,WAAW,GAAG/L,QAAQ,CAACC,aAAT,CAAuB,0BAAvB,CAApB;AACA8L,iBAAW,CAAC5J,gBAAZ,CAA6B,OAA7B,EAAsC,YAAM;AAC1C,aAAI,CAACJ,UAAL,CAAgBZ,SAAhB,CAA0B+H,MAA1B,CAAiC,4BAAjC;AACD,OAFD;AAIA,WAAKmC,QAAL,CAAclJ,gBAAd,CAA+B,OAA/B,EAAwC,YAAM;AAC5C,aAAI,CAACwF,IAAL,CAAUF,KAAV,GAAkB,EAAlB;AACA,aAAI,CAAC6D,KAAL,CAAW/C,cAAX,GAA4B,CAA5B;;AACA,aAAI,CAAC8C,QAAL,CAAclK,SAAd,CAAwBoB,GAAxB,CAA4B,QAA5B;;AACA,aAAI,CAACoF,IAAL,CAAU8B,KAAV;AACD,OALD;AAMD;;;0CAEqB;AACpB,UAAI,KAAK9B,IAAL,CAAUF,KAAV,CAAgBvC,MAApB,EAA4B,KAAKmG,QAAL,CAAclK,SAAd,CAAwBC,MAAxB,CAA+B,QAA/B,EAA5B,KACK,KAAKiK,QAAL,CAAclK,SAAd,CAAwBoB,GAAxB,CAA4B,QAA5B;AACN;;;kCAEayJ,G,EAAKJ,Q,EAAU;AAC3B,UAAMK,GAAG,GAAGjM,QAAQ,CAAC8H,aAAT,CAAuB,KAAvB,CAAZ;AACAmE,SAAG,CAAC9K,SAAJ,CAAcoB,GAAd,CAAkB,SAAlB;AACAqJ,cAAQ,CAAC5G,MAAT,CAAgBiH,GAAhB;AAEA,UAAItH,QAAQ,GAAG,IAAIC,gBAAJ,EAAf;;AAEA,WAAK,IAAIiG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmB,GAAG,CAAC9G,MAAxB,EAAgC2F,CAAC,IAAI,CAArC,EAAwC;AACtC,YAAIqB,GAAG,SAAP;;AAEA,YAAI,KAAKZ,KAAL,CAAW1B,SAAf,EAA0B;AACxBsC,aAAG,GAAG,IAAI1E,GAAJ,CAAQ,KAAK8D,KAAb,EAAoBU,GAAG,CAACnB,CAAD,CAAH,CAAO,CAAP,EAAU,CAAV,CAApB,EAAkCmB,GAAG,CAACnB,CAAD,CAAH,CAAO,CAAP,CAAlC,CAAN;AACD,SAFD,MAEO;AACLqB,aAAG,GAAG,IAAI1E,GAAJ,CAAQ,KAAK8D,KAAb,EAAoBU,GAAG,CAACnB,CAAD,CAAH,CAAO,CAAP,EAAU,CAAV,CAApB,EAAkCmB,GAAG,CAACnB,CAAD,CAAH,CAAO,CAAP,CAAlC,CAAN;AACD;;AAEDlG,gBAAQ,GAAGuH,GAAG,CAACC,QAAJ,CAAaxH,QAAb,CAAX;AACD;;AAEDsH,SAAG,CAACjH,MAAJ,CAAWL,QAAX;AACD;;;;;;AAGHlD,MAAM,CAACC,OAAP,GAAiB9B,WAAjB,C;;;;;;;;;;;;;;;;;AC7EA,IAAMJ,OAAO,GAAGC,mBAAO,CAAC,mCAAD,CAAvB;;IAEME,M;AACJ,kBAAYyM,OAAZ,EAAqBjM,UAArB,EAAiC;AAAA;;AAC/B,SAAKiM,OAAL,GAAeA,OAAf;AACA,SAAKjM,UAAL,GAAkBA,UAAlB;AACA,SAAKkM,SAAL,GAAiBrM,QAAQ,CAACC,aAAT,CAAuB,wBAAvB,CAAjB;AACA,SAAKqM,KAAL,GAAatM,QAAQ,CAACC,aAAT,CAAuB,gBAAvB,CAAb;AACA,SAAKsM,YAAL,GAAoBvM,QAAQ,CAACC,aAAT,CAAuB,eAAvB,CAApB;AACA,SAAKiB,UAAL,GAAkBlB,QAAQ,CAACC,aAAT,CAAuB,kBAAvB,CAAlB;AACA,SAAKuM,kBAAL;AACD;;;;yCAEoB;AAAA;;AACnB,WAAKH,SAAL,CAAelK,gBAAf,CAAgC,OAAhC,EAAyC,YAAM;AAC7C,aAAI,CAACZ,YAAL;AACD,OAFD;AAIAvB,cAAQ,CAACC,aAAT,CAAuB,QAAvB,EAAiCkC,gBAAjC,CAAkD,OAAlD,EAA2D,YAAM;AAC/D,aAAI,CAACZ,YAAL;AACD,OAFD;AAIA,WAAK+K,KAAL,CAAWnK,gBAAX,CAA4B,OAA5B,EAAqC,UAAC8F,CAAD,EAAO;AAC1C,YAAIA,CAAC,CAACiE,GAAF,KAAU,OAAd,EAAuB,KAAI,CAAC3K,YAAL;AACxB,OAFD;AAGD;;;wCAEmBgL,Y,EAAc;AAChC,WAAKrL,UAAL,CAAgBC,SAAhB,CAA0BoB,GAA1B,CAA8B,QAA9B;AAEA,UAAIgK,YAAJ,EAAkB,KAAKA,YAAL,CAAkB/J,WAAlB,GAAgC+J,YAAhC;AACnB;;;mCAEc;AAAA;;AACb,UAAM/L,SAAS,GAAG,KAAK8L,KAAL,CAAW7E,KAA7B;AAEA,WAAK8E,YAAL,CAAkB/J,WAAlB,GAAgC,EAAhC;AAEA,UAAI,CAAChC,SAAL,EAAgB;AAEhB,WAAKU,UAAL,CAAgBC,SAAhB,CAA0BC,MAA1B,CAAiC,QAAjC;AAEA,UAAMqL,QAAQ,GAAG,SAASC,IAAT,CAAclM,SAAd,CAAjB;;AAEA,UAAIiM,QAAJ,EAAc;AACZ,YAAMtF,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACwF,aAAD,EAAmB;AAC7C,gBAAI,CAACP,OAAL,CAAaQ,YAAb,CAA0BD,aAA1B;;AACA,gBAAI,CAACJ,YAAL,CAAkB/J,WAAlB,mCAAwDmK,aAAxD;AACD,SAHD;;AAKAnN,eAAO,CAACqN,gBAAR,CAAyBrM,SAAzB,EAAoC2G,mBAApC;AACD,OAPD,MAOO;AACL,aAAKiF,OAAL,CAAaQ,YAAb,CAA0BpM,SAA1B;AACD;AACF;;;;;;AAGHiB,MAAM,CAACC,OAAP,GAAiB/B,MAAjB,C;;;;;;;;;;;;;;;;;eCzD0DF,mBAAO,CAAC,iCAAD,C;IAAzDqN,uB,YAAAA,uB;IAAyBC,oB,YAAAA,oB;;AACjC,IAAMjL,KAAK,GAAGrC,mBAAO,CAAC,+BAAD,CAArB;;IAEMC,M;AACJ,kBAAYsN,OAAZ,EAAqB;AAAA;;AACnB,SAAKA,OAAL,GAAeA,OAAf;AACA,SAAKC,cAAL,GAAsBjN,QAAQ,CAACC,aAAT,CAAuB,kBAAvB,CAAtB;AACA,SAAKiN,OAAL,GAAelN,QAAQ,CAACC,aAAT,CAAuB,eAAvB,CAAf;AACA,SAAKkN,QAAL,GAAgBnN,QAAQ,CAACC,aAAT,CAAuB,gBAAvB,CAAhB;AACA,SAAKmN,YAAL,GAAoBpN,QAAQ,CAACC,aAAT,CAAuB,mBAAvB,CAApB;AAEA,SAAKoN,mBAAL,GAA2B,CAAC,CAA5B;AACA,SAAKC,kBAAL,GAA0B,CAAC,CAA3B;AACA,SAAKC,SAAL,GAAiB,CAAC,CAAlB;AACA,SAAKC,aAAL,GAAqB,CAArB;AACA,SAAKC,cAAL,GAAsB,CAAtB;AACA,SAAKC,gBAAL,GAAwB,CAAxB;AACA,SAAKC,eAAL,GAAuB,CAAvB;AACA,SAAKC,UAAL,GAAkB,CAAlB;AACA,SAAKC,UAAL,GAAkB,CAAlB;AACA,SAAKC,WAAL,GAAmB,KAAnB;AACA,SAAKC,WAAL,GAAmB,KAAnB;AAEA,SAAKC,YAAL,GAAoB,IAAIlM,KAAJ,CAAU,IAAV,EAAgB,KAAKmL,cAArB,CAApB;AACA,SAAKT,kBAAL;AACD;;;;yCAEoB;AAAA;;AACnBnC,YAAM,CAAClI,gBAAP,CAAwB,QAAxB,EAAkC,YAAM;AACtC,aAAI,CAAC8L,WAAL;;AACA,aAAI,CAACC,kBAAL;;AACA,aAAI,CAACC,cAAL;;AACA,aAAI,CAACC,eAAL;AACD,OALD;AAOA,WAAKlB,OAAL,CAAa/K,gBAAb,CAA8B,OAA9B,EAAuC,YAAM;AAC3C,aAAI,CAACkM,kBAAL,CAAwB,CAAC,CAAzB;AACD,OAFD;AAIA,WAAKlB,QAAL,CAAchL,gBAAd,CAA+B,OAA/B,EAAwC,YAAM;AAC5C,aAAI,CAACkM,kBAAL,CAAwB,CAAxB;AACD,OAFD;AAIA,WAAKpB,cAAL,CAAoB9K,gBAApB,CAAqC,WAArC,EAAkD,UAAC8F,CAAD,EAAO;AACvD,aAAI,CAACqG,gBAAL,CAAsBrG,CAAC,CAACsG,CAAxB;AACD,OAFD;AAIAvO,cAAQ,CAACwO,IAAT,CAAcrM,gBAAd,CAA+B,WAA/B,EAA4C,UAAC8F,CAAD,EAAO;AACjD,aAAI,CAACwG,gBAAL,CAAsBxG,CAAC,CAACsG,CAAxB;AACD,OAFD;AAIAvO,cAAQ,CAACwO,IAAT,CAAcrM,gBAAd,CAA+B,SAA/B,EAA0C,YAAM;AAC9C,aAAI,CAACuM,cAAL;AACD,OAFD;AAIA1O,cAAQ,CAACwO,IAAT,CAAcrM,gBAAd,CAA+B,YAA/B,EAA6C,YAAM;AACjD,aAAI,CAACuM,cAAL;AACD,OAFD;AAIA,WAAKzB,cAAL,CAAoB9K,gBAApB,CAAqC,YAArC,EAAmD,UAAC8F,CAAD,EAAO;AACxD,YAAIA,CAAC,CAAC0G,OAAF,CAAUzJ,MAAV,KAAqB,CAAzB,EAA4B,KAAI,CAACoJ,gBAAL,CAAsBrG,CAAC,CAAC0G,OAAF,CAAU,CAAV,EAAaC,OAAnC;AAC7B,OAFD;AAIA5O,cAAQ,CAACwO,IAAT,CAAcrM,gBAAd,CAA+B,WAA/B,EAA4C,UAAC8F,CAAD,EAAO;AACjD,YAAIA,CAAC,CAAC0G,OAAF,CAAUzJ,MAAV,KAAqB,CAAzB,EAA4B,KAAI,CAACuJ,gBAAL,CAAsBxG,CAAC,CAAC0G,OAAF,CAAU,CAAV,EAAaC,OAAnC;AAC7B,OAFD;AAIA5O,cAAQ,CAACwO,IAAT,CAAcrM,gBAAd,CAA+B,UAA/B,EAA2C,YAAM;AAC/C,aAAI,CAACuM,cAAL;AACD,OAFD;AAIA1O,cAAQ,CAACwO,IAAT,CAAcrM,gBAAd,CAA+B,aAA/B,EAA8C,YAAM;AAClD,aAAI,CAACuM,cAAL;AACD,OAFD;AAGD;;;sCAEiB;AAChB,UAAI,KAAKhB,gBAAL,IAAyB,KAAKC,eAAlC,EAAmD;AAEnD,UAAMkB,WAAW,GAAG,KAAKxB,mBAAL,GAA2B,KAAKC,kBAApD;AACA,UAAMwB,gBAAgB,GAAGD,WAAW,GAAG,KAAKrB,aAA5C;AACA,UAAMuB,kBAAkB,GAAGD,gBAAgB,GAAG,KAAKvB,SAAnD;AAEA,UAAIwB,kBAAkB,GAAGhC,oBAAzB,EAA+C;AAE/C,WAAKC,OAAL,CAAagC,YAAb;AACD;;;kCAEa;AACZ,UAAMC,QAAQ,GAAGjP,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAjB;AAEA,UAAIgP,QAAJ,EAAc,KAAK1B,SAAL,GAAiB0B,QAAQ,CAACC,qBAAT,GAAiCC,KAAlD,CAAd,KACK,KAAK5B,SAAL,GAAiB,CAAjB;AAEL,UAAM6B,aAAa,GAAGpP,QAAQ,CAACC,aAAT,CAAuB,kBAAvB,CAAtB;AACA,WAAKqN,kBAAL,GAA0B8B,aAAa,CAACF,qBAAd,GAAsCC,KAAhE;AAEA,UAAME,UAAU,GAAG,KAAKpC,cAAL,CAAoB7H,QAApB,CAA6BF,MAAhD;AACA,WAAKmI,mBAAL,GAA2B,KAAKE,SAAL,GAAiB8B,UAA5C;;AAEA,UAAI,KAAK/B,kBAAL,IAA2B,KAAKD,mBAApC,EAAyD;AACvD,aAAKI,cAAL,GAAsB,CAAtB;AACD,OAFD,MAEO,IAAI,KAAKA,cAAT,EAAyB;AAC9B,YAAM6B,YAAY,GAAG,KAAK5B,gBAAL,GAAwB,KAAKD,cAAlD;AACA,YAAM8B,SAAS,GAAG,KAAKjC,kBAAL,GAA0BgC,YAAY,GAAG,KAAK/B,SAAhE;AAEA,YAAIgC,SAAS,GAAG,KAAKhC,SAAL,GAAiB,CAAjC,EAAoC,KAAKE,cAAL,IAAuB,CAAvB;AACrC;;AAED,WAAK+B,gBAAL,CAAsB,KAAK/B,cAAL,GAAsB,KAAKF,SAAjD;AACD;;;4CAEuB;AACtB,WAAKE,cAAL,GAAsB,CAAtB;AACA,WAAKQ,WAAL;AACA,WAAKC,kBAAL;AACA,WAAKC,cAAL;AACD;;;uCAEkBsB,S,EAAW;AAC5B,UAAI,KAAK1B,WAAT,EAAsB;AAEtB,WAAKN,cAAL,IAAuBgC,SAAvB;AACA,WAAKC,oBAAL,CAA0BD,SAAS,GAAG,KAAKlC,SAA3C;AACD;;;qCAEgBqB,O,EAAS;AACxB,UAAI,KAAKb,WAAT,EAAsB;AAEtB,WAAKD,WAAL,GAAmB,IAAnB;AACA,WAAKF,UAAL,GAAkBgB,OAAO,GAAG,KAAKpB,aAAjC;AACA,WAAKK,UAAL,GAAkB,CAAlB;AACD;;;qCAEgBe,O,EAAS;AACxB,UAAI,CAAC,KAAKd,WAAV,EAAuB;AAEvB,UAAM6B,IAAI,GAAGf,OAAO,GAAG,KAAKhB,UAA5B;AACA,UAAMiB,WAAW,GAAG,KAAKxB,mBAAL,GAA2B,KAAKC,kBAApD;AAEA,UAAIqC,IAAI,GAAG,CAAP,IAAY,CAACA,IAAD,GAAQd,WAAxB,EAAqC;AAErC,WAAKrB,aAAL,GAAqB,CAACmC,IAAtB;AACA,WAAK1C,cAAL,CAAoB2C,KAApB,CAA0BD,IAA1B,aAAoCA,IAApC;AACD;;;qCAEgB;AACf,UAAI,CAAC,KAAK7B,WAAV,EAAuB;AAEvB,WAAKA,WAAL,GAAmB,KAAnB;AAEA,WAAK+B,UAAL;AACD;;;iCAEY;AACX,UAAMC,mBAAmB,GAAG,KAAKtC,aAAL,GAAqB,KAAKD,SAAtD;AACA,WAAKE,cAAL,GAAsBsC,IAAI,CAACC,KAAL,CAAW,KAAKxC,aAAL,GAAqB,KAAKD,SAArC,CAAtB;;AAEA,UAAIuC,mBAAmB,IAAI,KAAKvC,SAAL,GAAiB,CAA5C,EAA+C;AAC7C,aAAKmC,oBAAL,CAA0B,KAAKnC,SAAL,GAAiBuC,mBAA3C;AACD,OAFD,MAEO,IAAIA,mBAAJ,EAAyB;AAC9B,aAAKJ,oBAAL,CAA0B,CAACI,mBAA3B;AACD,OAFM,MAEA;AACL,aAAK5B,kBAAL;AACA,aAAKC,cAAL;AACA,aAAKC,eAAL;AACD;AACF;;;yCAEoB;AACnB,UAAMS,WAAW,GAAG,KAAKxB,mBAAL,GAA2B,KAAKC,kBAApD;AACA,UAAM2C,iBAAiB,GAAG,KAAKzC,aAAL,IAAsBqB,WAAhD;AACA,UAAMqB,gBAAgB,GAAG,KAAK1C,aAAL,KAAuB,CAAhD;;AAEA,UAAIyC,iBAAJ,EAAuB;AACrB,aAAK9C,QAAL,CAAchM,SAAd,CAAwBoB,GAAxB,CAA4B,QAA5B;AACD,OAFD,MAEO;AACL,aAAK4K,QAAL,CAAchM,SAAd,CAAwBC,MAAxB,CAA+B,QAA/B;AACD;;AAED,UAAI8O,gBAAJ,EAAsB;AACpB,aAAKhD,OAAL,CAAa/L,SAAb,CAAuBoB,GAAvB,CAA2B,QAA3B;AACD,OAFD,MAEO;AACL,aAAK2K,OAAL,CAAa/L,SAAb,CAAuBC,MAAvB,CAA8B,QAA9B;AACD;AACF;;;qCAEgB+O,M,EAAQ;AACvB,WAAK3C,aAAL,GAAqB2C,MAArB;AACA,WAAKlD,cAAL,CAAoB2C,KAApB,CAA0BD,IAA1B,aAAoC,CAAC,KAAKnC,aAA1C;AACD;;;yCAEoB2C,M,EAAQ;AAAA;;AAC3B,UAAMC,WAAW,GAAG,KAAK5C,aAAzB;AACA,UAAM6C,QAAQ,GAAGvD,uBAAjB;AACA,UAAMwD,SAAS,GAAGC,WAAW,CAACC,GAAZ,EAAlB;;AAEA,UAAMC,IAAI,GAAG,SAAPA,IAAO,CAACC,OAAD,EAAa;AACxB,YAAMC,UAAU,GAAGD,OAAO,GAAGJ,SAA7B;;AAEA,YAAIK,UAAU,GAAGN,QAAjB,EAA2B;AACzB,cAAMO,YAAY,GAAGT,MAAM,IAAIQ,UAAU,GAAGN,QAAjB,CAA3B;;AAEA,gBAAI,CAACb,gBAAL,CAAsBY,WAAW,GAAGQ,YAApC;;AAEAC,+BAAqB,CAACJ,IAAD,CAArB;AACD,SAND,MAMO;AACL,gBAAI,CAACjB,gBAAL,CAAsBY,WAAW,GAAGD,MAApC;;AACA,gBAAI,CAACjC,kBAAL;;AACA,gBAAI,CAACC,cAAL;;AACA,gBAAI,CAACC,eAAL;;AAEA,gBAAI,CAACL,WAAL,GAAmB,KAAnB;AACD;AACF,OAjBD;;AAmBA,WAAKA,WAAL,GAAmB,IAAnB;AACA8C,2BAAqB,CAACJ,IAAD,CAArB;AACD;;;qCAEgB;AACf,UAAMK,eAAe,GAAGf,IAAI,CAACC,KAAL,CACtB,KAAK1C,kBAAL,GAA0B,KAAKC,SADT,CAAxB;AAGA,WAAKH,YAAL,CAAkB3F,KAAlB,GAA0B,KAAKgG,cAAL,GAAsBqD,eAAhD;AACD;;;wCAEmB;AAClB,UAAMzB,UAAU,GAAG,KAAKpC,cAAL,CAAoB7H,QAApB,CAA6BF,MAAhD;AACA,WAAKmI,mBAAL,GAA2B,KAAKE,SAAL,GAAiB8B,UAA5C;AACA,WAAKnB,kBAAL;AACD;;;4BAEOpN,I,EAAME,K,EAAO;AACnB,WAAK0M,gBAAL,GAAwB5M,IAAI,CAACoE,MAA7B;AACA,WAAKyI,eAAL,GAAuB3M,KAAvB;AACA,WAAKoM,YAAL,CAAkB2D,GAAlB,GAAwB/P,KAAxB;AAEA,WAAKgN,YAAL,CAAkBjN,OAAlB,CAA0BD,IAA1B;AACD;;;+BAEUA,I,EAAM;AACf,WAAK4M,gBAAL,IAAyB5M,IAAI,CAACoE,MAA9B;AAEA,WAAK8I,YAAL,CAAkB1M,UAAlB,CAA6BR,IAA7B;AACD;;;;;;AAGHW,MAAM,CAACC,OAAP,GAAiBhC,MAAjB,C;;;;;;;;;;;;;;;;;eCxP0BD,mBAAO,CAAC,iCAAD,C;IAAzBuR,a,YAAAA,a;;IAEFnR,M;AACJ,kBAAYmN,OAAZ,EAAqB;AAAA;;AACnB,SAAKiE,GAAL,GAAWjE,OAAX;AACA,SAAKkE,WAAL,GAAmB,KAAnB;AAEA,SAAKC,WAAL,GAAmBnR,QAAQ,CAACC,aAAT,CAAuB,gBAAvB,CAAnB;AACA,SAAKmR,wBAAL,GAAgC,KAAKD,WAAL,CAAiBE,WAAjD;AAEA,QAAMC,EAAE,GAAGjH,MAAM,CAACkH,uBAAP,IAAkClH,MAAM,CAACmH,iBAApD;AACA,SAAKC,MAAL,GAAc,IAAIH,EAAJ,EAAd;AAEA,SAAK9E,kBAAL;AACD;;;;yCAEoB;AAAA;;AACnB,UAAMkF,MAAM,GAAG1R,QAAQ,CAACC,aAAT,CAAuB,qBAAvB,CAAf;AAEAyR,YAAM,CAACvP,gBAAP,CAAwB,OAAxB,EAAiC,YAAM;AACrC,aAAI,CAACwP,eAAL;AACD,OAFD;AAIA,WAAKF,MAAL,CAAYtP,gBAAZ,CAA6B,KAA7B,EAAoC,YAAM;AACxC,aAAI,CAACwP,eAAL;AACD,OAFD;AAIA,WAAKF,MAAL,CAAYtP,gBAAZ,CAA6B,QAA7B,EAAuC,UAAC8F,CAAD,EAAO;AAAA,YACpC2J,UADoC,GACrB3J,CAAC,CAAC4J,OAAF,CAAU,CAAV,EAAa,CAAb,CADqB,CACpCD,UADoC;AAG5C,aAAI,CAACT,WAAL,CAAiB1J,KAAjB,GAAyBmK,UAAzB;;AACA,aAAI,CAACX,GAAL,CAASa,cAAT,CAAwBF,UAAxB;AACD,OALD;AAOA,WAAKH,MAAL,CAAYtP,gBAAZ,CAA6B,OAA7B,EAAsC,UAAC8F,CAAD,EAAO;AAC3C,YAAIA,CAAC,CAACpH,KAAF,KAAY,aAAhB,EAA+B;AAC7B;AACAwJ,gBAAM,CAAC0H,KAAP,CAAa,iCAAb;AACD;AACF,OALD;AAMD;;;sCAEiB;AAChB,UAAI,KAAKb,WAAT,EAAsB;AACpB,aAAKC,WAAL,CAAiBE,WAAjB,GAA+B,KAAKD,wBAApC;AACA,aAAKY,IAAL;AACD,OAHD,MAGO;AACL,aAAKb,WAAL,CAAiBE,WAAjB,GAA+BL,aAA/B;AACA,aAAKiB,KAAL;AACD;AACF;;;4BAEO;AACN,WAAKf,WAAL,GAAmB,IAAnB;AACA,WAAKO,MAAL,CAAYQ,KAAZ;AACD;;;2BAEM;AACL,WAAKf,WAAL,GAAmB,KAAnB;AACA,WAAKO,MAAL,CAAYS,KAAZ;AACD;;;;;;AAGHzQ,MAAM,CAACC,OAAP,GAAiB7B,MAAjB,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IC/DMgC,K;;;;;;;+BACcsQ,I,EAAMC,O,EAASpQ,M,EAAQqQ,K,EAAO;AAAA;;AAC9C,UAAMC,EAAE,GAAGtS,QAAQ,CAAC8H,aAAT,CAAuBqK,IAAvB,CAAX;AAEA,UAAIC,OAAO,YAAYnN,KAAvB,EAA8B,iBAAAqN,EAAE,CAACnR,SAAH,EAAaoB,GAAb,yCAAoB6P,OAApB,GAA9B,KACK,IAAI,OAAOA,OAAP,KAAmB,QAAvB,EAAiC;AACpC,YAAMG,YAAY,GAAGH,OAAO,CAACI,KAAR,CAAc,GAAd,CAArB;AAEAD,oBAAY,CAAC1N,OAAb,CAAqB,UAAC4N,SAAD,EAAe;AAClCH,YAAE,CAACnR,SAAH,CAAaoB,GAAb,CAAiBkQ,SAAjB;AACD,SAFD;AAGD;AAED,UAAIJ,KAAK,YAAYpN,KAArB,EAA4BqN,EAAE,CAACtN,MAAH,OAAAsN,EAAE,qBAAWD,KAAX,EAAF,CAA5B,KACK,IAAIA,KAAJ,EAAWC,EAAE,CAACtN,MAAH,CAAUqN,KAAV;AAEhB,UAAIrQ,MAAJ,EAAYA,MAAM,CAACgD,MAAP,CAAcsN,EAAd;AAEZ,aAAOA,EAAP;AACD;;;6CAE+BtQ,M,EAAQ;AACtC,UAAM0Q,OAAO,GAAG7Q,KAAK,CAACwB,UAAN,CAAiB,KAAjB,EAAwB,UAAxB,EAAoCrB,MAApC,CAAhB;AACA0Q,aAAO,CAACpP,GAAR,GAAc,YAAd;AACAoP,aAAO,CAACxO,KAAR,GAAgB,YAAhB;AACAwO,aAAO,CAACnP,GAAR,GAAc,uBAAd;AACAvB,YAAM,CAACgD,MAAP,CAAc0N,OAAd;AACD;;;;;;AAGHjR,MAAM,CAACC,OAAP,GAAiBG,KAAjB,C;;;;;;;;;;;AC9BA,IAAM/B,GAAG,GAAGL,mBAAO,CAAC,2BAAD,CAAnB;;eAC+BA,mBAAO,CAAC,iCAAD,C;IAA9BkT,kB,YAAAA,kB;;AAER3S,QAAQ,CAACwO,IAAT,CAAcoE,MAAd,GAAuB,YAAM;AAC3B,MAAM3B,GAAG,GAAG,IAAInR,GAAJ,EAAZ;AACAmR,KAAG,CAACrE,YAAJ,CAAiB+F,kBAAjB,EAF2B,CAI3B;;AACAtI,QAAM,CAAC0H,KAAP,CACE,+DACI,iEADJ,GAEI,gEAFJ,GAGI,4CAJN;AAMD,CAXD,C;;;;;;;;;;;ACHA,IAAM1L,YAAY,GAAG,yBAArB;AACA,IAAMG,QAAQ,GAAG,UAAjB;AACA,IAAMU,gBAAgB,GAAG,kCACrB,iCADqB,GAErB,4DAFqB,GAGrB,6CAHJ;AAIA,IAAMvF,QAAQ,GAAG,uBAAjB;AACA,IAAMkF,SAAS,GAAG,yBAAlB;AACA,IAAMS,qBAAqB,GAAG,eAA9B;AACA,IAAM1F,SAAS,GAAG,kBAAlB;AACA,IAAMmF,SAAS,GAAG,kBAAlB;AACA,IAAM4L,kBAAkB,GAAG,OAA3B;AACA,IAAM7F,uBAAuB,GAAG,GAAhC;AACA,IAAMC,oBAAoB,GAAG,CAA7B;AACA,IAAMiE,aAAa,GAAG,oBAAtB;AAEAvP,MAAM,CAACC,OAAP,GAAiB;AACf2E,cAAY,EAAZA,YADe;AAEfG,UAAQ,EAARA,QAFe;AAGfU,kBAAgB,EAAhBA,gBAHe;AAIfvF,UAAQ,EAARA,QAJe;AAKfkF,WAAS,EAATA,SALe;AAMfS,uBAAqB,EAArBA,qBANe;AAOf1F,WAAS,EAATA,SAPe;AAQfmF,WAAS,EAATA,SARe;AASf4L,oBAAkB,EAAlBA,kBATe;AAUf7F,yBAAuB,EAAvBA,uBAVe;AAWfC,sBAAoB,EAApBA,oBAXe;AAYfiE,eAAa,EAAbA;AAZe,CAAjB,C","file":"script.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","const Fetcher = require('./Fetcher');\nconst Slider = require('./Slider');\nconst Search = require('./Search');\nconst KeyboardApp = require('./KeyboardApp');\nconst Speech = require('./Speech');\n\nclass App {\n  constructor() {\n    this.keyboardContainer = document.querySelector('.keyboard--container');\n    this.keyboardInst = new KeyboardApp(this.keyboardContainer);\n    this.sliderInst = new Slider(this);\n    this.searchInst = new Search(this, this.sliderInst);\n    this.speechInst = new Speech(this);\n\n    this.isLoading = false;\n    this.page = 1;\n    this.searchStr = '';\n  }\n\n  loadNewCards(searchStr) {\n    if (this.isLoading || this.searchStr === searchStr) {\n      this.searchInst.searchingEndHandler();\n      return;\n    }\n\n    this.isLoading = true;\n\n    const searchCallback = (dataObj) => {\n      const errorMsg = dataObj.error || false;\n\n      if (dataObj.data) {\n        this.sliderInst.setData(dataObj.data, dataObj.total);\n        this.searchStr = searchStr;\n      }\n\n      this.searchInst.searchingEndHandler(errorMsg);\n      this.isLoading = false;\n      this.page = 1;\n    };\n\n    if (searchStr) Fetcher.fetchMovieData(searchStr, searchCallback);\n  }\n\n  loadNextPage() {\n    if (this.isLoading) return;\n\n    this.searchInst.loadingImg.classList.remove('hidden');\n    this.isLoading = true;\n    this.page += 1;\n\n    const nextPageCallback = (dataObj) => {\n      const errorMsg = dataObj.error || null;\n\n      if (dataObj.data) this.sliderInst.concatData(dataObj.data);\n\n      this.searchInst.searchingEndHandler(errorMsg);\n      this.isLoading = false;\n    };\n\n    Fetcher.fetchMovieData(this.searchStr, nextPageCallback, this.page);\n  }\n\n  searchBySpeech() {\n    this.searchInst.searchSubmit();\n    this.keyboardInst.updateClearBtnState();\n  }\n}\n\nmodule.exports = App;\n","const { IMDB_URL, POSTER_NA } = require('./values');\nconst Utils = require('./Utils');\nconst Fetcher = require('./Fetcher');\n\nclass Cards {\n  constructor(sliderInst, parentElem) {\n    this.sliderInst = sliderInst;\n    this.parent = parentElem;\n    this.data = null;\n    this.isCardContainerVisible = false;\n\n    this.firstCardsLoadedIndicatorList = [];\n\n    this.parent.addEventListener('transitionend', (event) => {\n      if (event.target !== this.parent) return;\n      if (this.isCardContainerVisible) return;\n\n      this.replaceCards();\n    });\n  }\n\n  hideOldCardsRevealNew() {\n    this.isCardContainerVisible = false;\n    this.parent.classList.add('transparent');\n  }\n\n  revealCardsContainer() {\n    this.isCardContainerVisible = true;\n    this.parent.classList.remove('transparent');\n  }\n\n  replaceCards() {\n    this.parent.textContent = '';\n    this.createCards(this.data);\n\n    this.sliderInst.contentReplaceHandler();\n  }\n\n  reveal(card, index) {\n    if (card.classList.contains('noimg')) return;\n    if (card.classList.contains('norating')) return;\n    if (!this.isCardContainerVisible) {\n      this.firstCardsLoadedIndicatorList[index] = true;\n\n      const isCardsFullyLoaded = this.firstCardsLoadedIndicatorList.every(\n        (item) => item,\n      );\n\n      if (isCardsFullyLoaded) this.revealCardsContainer();\n    }\n\n    card.classList.remove('transparent');\n  }\n\n  createRatingElements(parentElem, rating, card, cardIndex) {\n    const parent = parentElem;\n\n    parent.textContent = '';\n\n    const img = Utils.createElem('img', 'rating--star', parentElem);\n    img.alt = 'rating imdb';\n    img.src = './assets/ico/star.svg';\n\n    Utils.createElem('div', 'rating--text', parentElem, rating);\n\n    card.classList.remove('norating');\n    this.reveal(card, cardIndex);\n  }\n\n  getImdbRating(id, parentElem, card, cardIndex) {\n    const callback = (rating) => {\n      this.createRatingElements(parentElem, rating, card, cardIndex);\n    };\n\n    Fetcher.fetchImdbRating(id, callback);\n  }\n\n  loadPoster(card, imgContainer, data, cardIndex) {\n    const img = Utils.createElem('img', 'card--img', imgContainer);\n    img.alt = data.Title;\n    img.src = data.Poster;\n\n    img.addEventListener('load', () => {\n      card.classList.remove('noimg');\n      this.reveal(card, cardIndex);\n    });\n\n    img.addEventListener('error', () => {\n      this.setEmptyPoster(imgContainer, card, cardIndex);\n    });\n  }\n\n  setEmptyPoster(imgContainer, card, cardIndex) {\n    const container = imgContainer;\n\n    container.textContent = POSTER_NA;\n    card.classList.remove('noimg');\n    this.reveal(card, cardIndex);\n  }\n\n  getNewCard(data, cardIndex) {\n    const card = Utils.createElem('div', 'card transparent noimg norating');\n\n    const title = Utils.createElem('a', 'card--title', card, data.Title);\n    title.title = data.Title;\n    title.href = new URL(`title/${data.imdbID}/videogallery/`, IMDB_URL);\n\n    const imgContainer = Utils.createElem('div', 'card--img_container', card);\n\n    if (data.Poster !== 'N/A') {\n      this.loadPoster(card, imgContainer, data, cardIndex);\n    } else {\n      this.setEmptyPoster(imgContainer, card, cardIndex);\n    }\n\n    Utils.createElem('div', 'card--year', card, data.Year);\n\n    const rating = Utils.createElem('div', 'card--rating', card, data.imdbId);\n    Utils.createLoadingPlaceholder(rating);\n\n    this.getImdbRating(data.imdbID, rating, card, cardIndex);\n\n    return card;\n  }\n\n  createCards(data) {\n    const fragment = new DocumentFragment();\n\n    data.forEach((movie, cardIndex) => {\n      const card = this.getNewCard(movie, cardIndex);\n      fragment.append(card);\n    });\n\n    this.parent.append(fragment);\n  }\n\n  setData(data) {\n    if (!data) return;\n\n    this.data = data;\n    this.firstCardsLoadedIndicatorList = new Array(data.length).fill(false);\n\n    if (this.parent.children.length) this.hideOldCardsRevealNew();\n    else this.replaceCards();\n  }\n\n  concatData(data) {\n    if (!data) return;\n\n    this.data = this.data.concat(data);\n\n    this.createCards(data);\n    this.sliderInst.contentAddHandler();\n  }\n}\n\nmodule.exports = Cards;\n","const values = require('./values');\n\nclass Fetcher {\n  static basicFetcher(url, responseCallback, rejectCallback) {\n    fetch(url)\n      .then((res) => {\n        if (res.status >= 200 && res.status < 300) return res.json();\n\n        throw new Error(res.status);\n      })\n      .then((json) => {\n        responseCallback(json);\n      })\n      .catch((error) => {\n        const mess = +error.message;\n\n        if (rejectCallback && mess >= 400 && mess < 600) {\n          rejectCallback(`API ${error}`);\n          // eslint-disable-next-line no-console\n        } else console.error(error);\n      });\n  }\n\n  static fetchImdbRating(id, callback) {\n    const url = new URL(values.OMDB_API_URL);\n    url.searchParams.set('i', id);\n    url.searchParams.set('apikey', values.OMDB_KEY);\n\n    const ratingCallback = (json) => {\n      const rating = json.Ratings.find(\n        (item) => item.Source === values.IMDB_NAME,\n      );\n\n      if (rating) callback(rating.Value);\n      else callback(values.RATING_NA);\n    };\n\n    Fetcher.basicFetcher(url, ratingCallback);\n  }\n\n  static fetchTranslation(str, callback) {\n    const url = new URL(values.TRANSLATIONS_URL + str);\n\n    const translationCallback = (json) => {\n      if (json.text) callback(json.text[0]);\n      else callback(str);\n    };\n\n    Fetcher.basicFetcher(url, translationCallback);\n  }\n\n  static fetchMovieData(searchQuery, callback, page = 1) {\n    const url = new URL(values.OMDB_API_URL);\n    url.searchParams.set('apikey', values.OMDB_KEY);\n    url.searchParams.set('page', page);\n    url.searchParams.set('s', searchQuery);\n    url.searchParams.set('type', 'movie');\n\n    const searchCallback = (json) => {\n      let dataObj;\n\n      if (json.Error) {\n        dataObj = { error: `${values.NO_SEARCH_RESULT_TEXT} ${searchQuery}` };\n      } else dataObj = { data: json.Search, total: json.totalResults };\n\n      callback(dataObj);\n    };\n\n    const rejectCallback = (message) => {\n      callback({ error: message });\n    };\n\n    Fetcher.basicFetcher(url, searchCallback, rejectCallback);\n  }\n}\n\nmodule.exports = Fetcher;\n","class Key {\n  constructor(keyboardInst, value, keyCode) {\n    this.keyboardInst = keyboardInst;\n    this.value = value;\n    this.keyCode = keyCode;\n    this.area = keyboardInst.area;\n    // in ru_lang they are letters, but in en_lang - symbols\n    this.mixedKeys = [\n      'Backquote',\n      'BracketLeft',\n      'BracketRight',\n      'Semicolon',\n      'Quote',\n      'Comma',\n      'Period',\n    ];\n  }\n\n  appendTo(fragment) {\n    const button = document.createElement('button');\n    button.classList.add('keyboard--button');\n\n    if (this.value) {\n      if (this.keyCode.includes('Key')) {\n        button.classList.add('letter');\n      } else if (this.mixedKeys.includes(this.keyCode)) {\n        button.classList.add('mixed');\n      } else {\n        button.classList.add('symbol');\n      }\n\n      button.append(this.value);\n    } else {\n      button.classList.add('functional');\n      button.classList.add(this.keyCode.toLowerCase());\n      button.append(this.keyCode);\n    }\n\n    button.addEventListener('mousedown', (e) => this.keyDown(e));\n    button.addEventListener('mouseup', () => this.keyUp());\n    button.addEventListener('mouseout', () => this.keyUp());\n    button.id = this.keyCode;\n    fragment.append(button);\n    return fragment;\n  }\n\n  repeatKey(fn, keyValue) {\n    const keyRepeatInterval = 175;\n    this.keyboardInst.cursorPosition = this.area.selectionStart;\n    fn(keyValue);\n    this.interval = setInterval(fn, keyRepeatInterval, keyValue);\n  }\n\n  keyDown(event) {\n    const ShiftLeft = document.getElementById('ShiftLeft');\n    const ShiftRight = document.getElementById('ShiftRight');\n    const AltLeft = document.getElementById('AltLeft');\n    const AltRight = document.getElementById('AltRight');\n\n    switch (event.target.id) {\n      case 'Backspace':\n        this.repeatKey(() => {\n          if (this.keyboardInst.cursorPosition <= 0) return;\n\n          this.area.setRangeText(\n            '',\n            this.keyboardInst.cursorPosition - 1,\n            this.keyboardInst.cursorPosition,\n            'end',\n          );\n        });\n        break;\n      case 'Space':\n        this.repeatKey(() => {\n          this.area.setRangeText(\n            ' ',\n            this.keyboardInst.cursorPosition,\n            this.keyboardInst.cursorPosition,\n            'end',\n          );\n        });\n        break;\n      case 'Tab':\n        this.repeatKey(() => {\n          this.area.setRangeText(\n            '    ',\n            this.keyboardInst.cursorPosition,\n            this.keyboardInst.cursorPosition,\n            'end',\n          );\n        });\n        break;\n      case 'Enter':\n        break;\n      case 'ShiftLeft':\n      case 'ShiftRight':\n        ShiftLeft.classList.toggle('button_active');\n        ShiftRight.classList.toggle('button_active');\n\n        if (AltLeft.classList.contains('button_active')) {\n          ShiftLeft.classList.remove('button_active');\n          ShiftRight.classList.remove('button_active');\n          AltLeft.classList.remove('button_active');\n          AltRight.classList.remove('button_active');\n          this.keyboardInst.changeLang();\n        } else {\n          this.keyboardInst.toggleCase();\n          this.keyboardInst.shiftSymbols();\n        }\n        break;\n      case 'CapsLock':\n        this.keyboardInst.toggleCase();\n        break;\n      case 'AltLeft':\n      case 'AltRight':\n        AltLeft.classList.toggle('button_active');\n        AltRight.classList.toggle('button_active');\n\n        if (ShiftLeft.classList.contains('button_active')) {\n          ShiftLeft.classList.remove('button_active');\n          ShiftRight.classList.remove('button_active');\n          AltLeft.classList.remove('button_active');\n          AltRight.classList.remove('button_active');\n          this.keyboardInst.changeLang();\n        }\n        break;\n      case 'Lang':\n        this.keyboardInst.changeLang();\n        break;\n      case 'ArrowLeft':\n        this.repeatKey(() => {\n          if (this.keyboardInst.cursorPosition <= 0) return;\n\n          this.area.setSelectionRange(\n            this.keyboardInst.cursorPosition - 1,\n            this.keyboardInst.cursorPosition - 1,\n          );\n        });\n        break;\n      case 'ArrowRight':\n        this.repeatKey(() => {\n          if (this.area.value.length <= this.keyboardInst.cursorPosition) {\n            return;\n          }\n\n          this.area.setSelectionRange(\n            this.keyboardInst.cursorPosition + 1,\n            this.keyboardInst.cursorPosition + 1,\n          );\n        });\n        break;\n      default:\n        this.repeatKey((text) => {\n          this.area.setRangeText(\n            text,\n            this.keyboardInst.cursorPosition,\n            this.keyboardInst.cursorPosition,\n            'end',\n          );\n        }, event.target.textContent);\n        break;\n    }\n  }\n\n  keyUp() {\n    clearInterval(this.interval);\n    this.keyboardInst.keyboardAppInst.updateClearBtnState();\n    this.area.focus();\n  }\n}\n\nmodule.exports = Key;\n","class Keyboard {\n  constructor(keyboardAppInst) {\n    this.symbols = [\n      [\n        ['`~', 'Backquote'],\n        ['1!1!', 'Digit1'],\n        ['2@2\"', 'Digit2'],\n        ['3#3', 'Digit3'],\n        ['4$4;', 'Digit4'],\n        ['5%5%', 'Digit5'],\n        ['6^6:', 'Digit6'],\n        ['7&7&', 'Digit7'],\n        ['8*8*', 'Digit8'],\n        ['9(9(', 'Digit9'],\n        ['0)0)', 'Digit0'],\n        ['-_-_', 'Minus'],\n        ['=+=+', 'Equal'],\n        ['', 'Backspace'],\n      ],\n      [\n        ['', 'Tab'],\n        ['qQ', 'KeyQ'],\n        ['wW', 'KeyW'],\n        ['eE', 'KeyE'],\n        ['rR', 'KeyR'],\n        ['tT', 'KeyT'],\n        ['yY', 'KeyY'],\n        ['uU', 'KeyU'],\n        ['iI', 'KeyI'],\n        ['oO', 'KeyO'],\n        ['pP', 'KeyP'],\n        ['[{', 'BracketLeft'],\n        [']}', 'BracketRight'],\n        ['\\\\|\\\\/', 'Backslash'],\n      ],\n      [\n        ['', 'CapsLock'],\n        ['aA', 'KeyA'],\n        ['sS', 'KeyS'],\n        ['dD', 'KeyD'],\n        ['fF', 'KeyF'],\n        ['gG', 'KeyG'],\n        ['hH', 'KeyH'],\n        ['jJ', 'KeyJ'],\n        ['kK', 'KeyK'],\n        ['lL', 'KeyL'],\n        [';:', 'Semicolon'],\n        [\"'\\\"\", 'Quote'],\n        ['', 'Enter'],\n      ],\n      [\n        ['', 'ShiftLeft'],\n        ['zZ', 'KeyZ'],\n        ['xX', 'KeyX'],\n        ['cC', 'KeyC'],\n        ['vV', 'KeyV'],\n        ['bB', 'KeyB'],\n        ['nN', 'KeyN'],\n        ['mM', 'KeyM'],\n        [',<', 'Comma'],\n        ['.>', 'Period'],\n        ['/?.,', 'Slash'],\n        ['', 'ShiftRight'],\n      ],\n      [\n        ['', 'ControlLeft'],\n        ['', 'AltLeft'],\n        ['', 'Space'],\n        ['', 'AltRight'],\n        ['', 'Lang'],\n        ['', 'ArrowLeft'],\n        ['', 'ArrowRight'],\n      ],\n    ];\n\n    this.keyboardAppInst = keyboardAppInst;\n    this.area = keyboardAppInst.area;\n    this.isEngLang = true;\n    this.isUpperCase = true;\n    this.isShiftPressed = false;\n    this.cursorPosition = 0;\n\n    this.buttonsEn = null;\n    this.mixedKeys = null;\n    this.buttonsRu = null;\n  }\n\n  initKeySets() {\n    this.buttonsEn = Array.from(document.querySelectorAll('.letter'));\n    this.mixedKeys = Array.from(document.querySelectorAll('.mixed'));\n    this.buttonsSymbolRu = Array.from(document.querySelectorAll('.symbol'));\n\n    this.buttonsSymbolEn = this.buttonsSymbolRu.concat(this.mixedKeys);\n    this.buttonsRu = this.buttonsEn.concat(this.mixedKeys);\n  }\n\n  changeLang() {\n    this.isEngLang = !this.isEngLang;\n    window.localStorage.setItem('lang', this.isEngLang);\n\n    this.buttonsRu.forEach((button) => {\n      const btn = button;\n      btn.textContent = this.getSymbolToSwitch(button.id);\n    });\n  }\n\n  static toLowerCase(text) {\n    return text.toLowerCase();\n  }\n\n  static toUpperCase(text) {\n    return text.toUpperCase();\n  }\n\n  toggleCase() {\n    let buttonsToChange;\n    let textCaseFn;\n\n    this.isUpperCase = !this.isUpperCase;\n\n    if (this.isEngLang) buttonsToChange = this.buttonsEn;\n    else buttonsToChange = this.buttonsRu;\n\n    if (this.isUpperCase) textCaseFn = Keyboard.toLowerCase;\n    else textCaseFn = Keyboard.toUpperCase;\n\n    for (let i = 0; i < buttonsToChange.length; i += 1) {\n      buttonsToChange[i].textContent = textCaseFn(\n        buttonsToChange[i].textContent,\n      );\n    }\n  }\n\n  getSymbolToSwitch(id) {\n    const getEngSymbol = (i, j) => {\n      if (this.isShiftPressed) {\n        return this.symbols[i][j][0][1];\n      }\n\n      return this.symbols[i][j][0][0];\n    };\n\n    const getRusSymbol = (i, j) => {\n      if (this.isShiftPressed) {\n        return this.symbols[i][j][0][3];\n      }\n      return this.symbols[i][j][0][2];\n    };\n\n    for (let i = 0; i < this.symbols.length; i += 1) {\n      for (let j = 0; j < this.symbols[i].length; j += 1) {\n        if (this.symbols[i][j].includes(id)) {\n          if (this.isEngLang) {\n            return getEngSymbol(i, j);\n          }\n\n          return getRusSymbol(i, j);\n        }\n      }\n    }\n\n    return undefined;\n  }\n\n  shiftSymbols() {\n    let buttonsToChange;\n\n    if (this.isEngLang) buttonsToChange = this.buttonsSymbolEn;\n    else buttonsToChange = this.buttonsSymbolRu;\n\n    this.isShiftPressed = !this.isShiftPressed;\n\n    for (let i = 0; i < buttonsToChange.length; i += 1) {\n      buttonsToChange[i].textContent = this.getSymbolToSwitch(\n        buttonsToChange[i].id,\n      );\n    }\n  }\n\n  handleKeyDown(e) {\n    const button = document.getElementById(e.code);\n\n    if (button) {\n      button.classList.add('button_active');\n    } else {\n      return;\n    }\n\n    e.preventDefault();\n\n    switch (e.code) {\n      case 'ShiftLeft':\n      case 'ShiftRight':\n        this.toggleCase();\n        this.shiftSymbols();\n        break;\n      case 'Space':\n        this.cursorPosition = this.area.selectionStart;\n\n        this.area.setRangeText(\n          ' ',\n          this.cursorPosition,\n          this.cursorPosition,\n          'end',\n        );\n        break;\n      case 'Tab':\n        this.cursorPosition = this.area.selectionStart;\n\n        this.area.setRangeText(\n          '    ',\n          this.cursorPosition,\n          this.cursorPosition,\n          'end',\n        );\n        break;\n      case 'Enter':\n        break;\n      case 'Backspace':\n        this.cursorPosition = this.area.selectionStart;\n\n        if (this.cursorPosition <= 0) return;\n\n        this.area.setRangeText(\n          '',\n          this.cursorPosition - 1,\n          this.cursorPosition,\n          'end',\n        );\n        break;\n      case 'ArrowLeft':\n        this.cursorPosition = this.area.selectionStart;\n\n        if (this.cursorPosition <= 0) return;\n\n        this.area.setSelectionRange(\n          this.cursorPosition - 1,\n          this.cursorPosition - 1,\n        );\n        break;\n      case 'ArrowRight':\n        this.cursorPosition = this.area.selectionStart;\n\n        if (this.area.value.length <= this.cursorPosition) return;\n\n        this.area.setSelectionRange(\n          this.cursorPosition + 1,\n          this.cursorPosition + 1,\n        );\n        break;\n      default:\n        if (button.classList.contains('functional')) return;\n\n        this.cursorPosition = this.area.selectionStart;\n\n        this.area.setRangeText(\n          button.textContent,\n          this.cursorPosition,\n          this.cursorPosition,\n          'end',\n        );\n        break;\n    }\n  }\n\n  handleKeyUp(e) {\n    const button = document.getElementById(e.code);\n    if (button) {\n      button.classList.remove('button_active');\n    } else {\n      return;\n    }\n\n    e.preventDefault();\n\n    switch (e.code) {\n      case 'ShiftLeft':\n      case 'ShiftRight':\n        this.toggleCase();\n        this.shiftSymbols();\n        break;\n      case 'CapsLock':\n        this.toggleCase();\n        break;\n      default:\n        if (e.code.includes('Alt') && e.shiftKey) {\n          this.changeLang();\n        }\n        break;\n    }\n\n    this.area.focus();\n  }\n}\n\nmodule.exports = Keyboard;\n","const Keyboard = require('./Keyboard');\nconst Key = require('./Key');\n\nclass KeyboardApp {\n  constructor(parentElem) {\n    this.parentElem = parentElem;\n    this.clearBtn = document.querySelector('.search--clear_button');\n    this.area = document.querySelector('.search--input');\n    this.board = new Keyboard(this);\n\n    this.init();\n  }\n\n  init() {\n    if (window.localStorage.getItem('lang')) {\n      this.board.isEngLang = window.localStorage.getItem('lang') === 'true';\n    }\n\n    this.generateElements(this.parentElem);\n    this.setHandlers();\n  }\n\n  generateElements(wrapper) {\n    const keyboard = document.createElement('div');\n    keyboard.classList.add('keyboard');\n    keyboard.id = 'keyboard';\n    wrapper.append(keyboard);\n\n    for (let i = 0; i < this.board.symbols.length; i += 1) {\n      this.createKeysRow(this.board.symbols[i], keyboard);\n    }\n\n    this.board.initKeySets();\n  }\n\n  setHandlers() {\n    const keyboardBtn = document.querySelector('.search--keyboard_button');\n    keyboardBtn.addEventListener('click', () => {\n      this.parentElem.classList.toggle('keyboard--container-hidden');\n    });\n\n    this.clearBtn.addEventListener('click', () => {\n      this.area.value = '';\n      this.board.cursorPosition = 0;\n      this.clearBtn.classList.add('hidden');\n      this.area.focus();\n    });\n  }\n\n  updateClearBtnState() {\n    if (this.area.value.length) this.clearBtn.classList.remove('hidden');\n    else this.clearBtn.classList.add('hidden');\n  }\n\n  createKeysRow(row, keyboard) {\n    const div = document.createElement('div');\n    div.classList.add('key-row');\n    keyboard.append(div);\n\n    let fragment = new DocumentFragment();\n\n    for (let i = 0; i < row.length; i += 1) {\n      let key;\n\n      if (this.board.isEngLang) {\n        key = new Key(this.board, row[i][0][0], row[i][1]);\n      } else {\n        key = new Key(this.board, row[i][0][2], row[i][1]);\n      }\n\n      fragment = key.appendTo(fragment);\n    }\n\n    div.append(fragment);\n  }\n}\n\nmodule.exports = KeyboardApp;\n","const Fetcher = require('./Fetcher');\n\nclass Search {\n  constructor(AppInst, sliderInst) {\n    this.AppInst = AppInst;\n    this.sliderInst = sliderInst;\n    this.submitBtn = document.querySelector('.search--submit_button');\n    this.input = document.querySelector('.search--input');\n    this.notification = document.querySelector('.notification');\n    this.loadingImg = document.querySelector('.search--loading');\n    this.setEventsListeners();\n  }\n\n  setEventsListeners() {\n    this.submitBtn.addEventListener('click', () => {\n      this.searchSubmit();\n    });\n\n    document.querySelector('#Enter').addEventListener('click', () => {\n      this.searchSubmit();\n    });\n\n    this.input.addEventListener('keyup', (e) => {\n      if (e.key === 'Enter') this.searchSubmit();\n    });\n  }\n\n  searchingEndHandler(notification) {\n    this.loadingImg.classList.add('hidden');\n\n    if (notification) this.notification.textContent = notification;\n  }\n\n  searchSubmit() {\n    const searchStr = this.input.value;\n\n    this.notification.textContent = '';\n\n    if (!searchStr) return;\n\n    this.loadingImg.classList.remove('hidden');\n\n    const isRuLang = /[-]/i.test(searchStr);\n\n    if (isRuLang) {\n      const translationCallback = (translatedStr) => {\n        this.AppInst.loadNewCards(translatedStr);\n        this.notification.textContent = `Showing results for \"${translatedStr}\"`;\n      };\n\n      Fetcher.fetchTranslation(searchStr, translationCallback);\n    } else {\n      this.AppInst.loadNewCards(searchStr);\n    }\n  }\n}\n\nmodule.exports = Search;\n","const { SLIDER_ANIM_DURATION_MS, STOCK_BEFORE_PRELOAD } = require('./values');\nconst Cards = require('./Cards');\n\nclass Slider {\n  constructor(appInst) {\n    this.appInst = appInst;\n    this.cardsContainer = document.querySelector('.cards_container');\n    this.leftBtn = document.querySelector('.slider--left');\n    this.rightBtn = document.querySelector('.slider--right');\n    this.progressElem = document.querySelector('.slider--progress');\n\n    this.cardsContainerWidth = -1;\n    this.sliderContentWidth = -1;\n    this.cardWidth = -1;\n    this.contentOffset = 0;\n    this.firstCardIndex = 0;\n    this.loadedCardsCount = 0;\n    this.totalCardsCount = 0;\n    this.dragStartX = 0;\n    this.dragLength = 0;\n    this.isMouseDown = false;\n    this.isAnimating = false;\n\n    this.cardsManager = new Cards(this, this.cardsContainer);\n    this.setEventsListeners();\n  }\n\n  setEventsListeners() {\n    window.addEventListener('resize', () => {\n      this.updateSizes();\n      this.updateButtonsState();\n      this.updateProgress();\n      this.preloadNextPage();\n    });\n\n    this.leftBtn.addEventListener('click', () => {\n      this.buttonClickHandler(-1);\n    });\n\n    this.rightBtn.addEventListener('click', () => {\n      this.buttonClickHandler(1);\n    });\n\n    this.cardsContainer.addEventListener('mousedown', (e) => {\n      this.mouseDownHandler(e.x);\n    });\n\n    document.body.addEventListener('mousemove', (e) => {\n      this.mouseMoveHandler(e.x);\n    });\n\n    document.body.addEventListener('mouseup', () => {\n      this.mouseUpHandler();\n    });\n\n    document.body.addEventListener('mouseleave', () => {\n      this.mouseUpHandler();\n    });\n\n    this.cardsContainer.addEventListener('touchstart', (e) => {\n      if (e.touches.length === 1) this.mouseDownHandler(e.touches[0].clientX);\n    });\n\n    document.body.addEventListener('touchmove', (e) => {\n      if (e.touches.length === 1) this.mouseMoveHandler(e.touches[0].clientX);\n    });\n\n    document.body.addEventListener('touchend', () => {\n      this.mouseUpHandler();\n    });\n\n    document.body.addEventListener('touchcancel', () => {\n      this.mouseUpHandler();\n    });\n  }\n\n  preloadNextPage() {\n    if (this.loadedCardsCount >= this.totalCardsCount) return;\n\n    const hiddenWidth = this.cardsContainerWidth - this.sliderContentWidth;\n    const rightHiddenWidth = hiddenWidth - this.contentOffset;\n    const cardsHiddenInRight = rightHiddenWidth / this.cardWidth;\n\n    if (cardsHiddenInRight > STOCK_BEFORE_PRELOAD) return;\n\n    this.appInst.loadNextPage();\n  }\n\n  updateSizes() {\n    const someCard = document.querySelector('.card');\n\n    if (someCard) this.cardWidth = someCard.getBoundingClientRect().width;\n    else this.cardWidth = 0;\n\n    const sliderContent = document.querySelector('.slider--content');\n    this.sliderContentWidth = sliderContent.getBoundingClientRect().width;\n\n    const cardsCount = this.cardsContainer.children.length;\n    this.cardsContainerWidth = this.cardWidth * cardsCount;\n\n    if (this.sliderContentWidth >= this.cardsContainerWidth) {\n      this.firstCardIndex = 0;\n    } else if (this.firstCardIndex) {\n      const notHidedLeft = this.loadedCardsCount - this.firstCardIndex;\n      const freeSpace = this.sliderContentWidth - notHidedLeft * this.cardWidth;\n\n      if (freeSpace > this.cardWidth / 2) this.firstCardIndex -= 1;\n    }\n\n    this.setContentOffset(this.firstCardIndex * this.cardWidth);\n  }\n\n  contentReplaceHandler() {\n    this.firstCardIndex = 0;\n    this.updateSizes();\n    this.updateButtonsState();\n    this.updateProgress();\n  }\n\n  buttonClickHandler(direction) {\n    if (this.isAnimating) return;\n\n    this.firstCardIndex += direction;\n    this.animateMovingContent(direction * this.cardWidth);\n  }\n\n  mouseDownHandler(clientX) {\n    if (this.isAnimating) return;\n\n    this.isMouseDown = true;\n    this.dragStartX = clientX + this.contentOffset;\n    this.dragLength = 0;\n  }\n\n  mouseMoveHandler(clientX) {\n    if (!this.isMouseDown) return;\n\n    const left = clientX - this.dragStartX;\n    const hiddenWidth = this.cardsContainerWidth - this.sliderContentWidth;\n\n    if (left > 0 || -left > hiddenWidth) return;\n\n    this.contentOffset = -left;\n    this.cardsContainer.style.left = `${left}px`;\n  }\n\n  mouseUpHandler() {\n    if (!this.isMouseDown) return;\n\n    this.isMouseDown = false;\n\n    this.alignCards();\n  }\n\n  alignCards() {\n    const hiddenCardPartWidth = this.contentOffset % this.cardWidth;\n    this.firstCardIndex = Math.round(this.contentOffset / this.cardWidth);\n\n    if (hiddenCardPartWidth >= this.cardWidth / 2) {\n      this.animateMovingContent(this.cardWidth - hiddenCardPartWidth);\n    } else if (hiddenCardPartWidth) {\n      this.animateMovingContent(-hiddenCardPartWidth);\n    } else {\n      this.updateButtonsState();\n      this.updateProgress();\n      this.preloadNextPage();\n    }\n  }\n\n  updateButtonsState() {\n    const hiddenWidth = this.cardsContainerWidth - this.sliderContentWidth;\n    const isRightEndReached = this.contentOffset >= hiddenWidth;\n    const isLeftEndReached = this.contentOffset === 0;\n\n    if (isRightEndReached) {\n      this.rightBtn.classList.add('hidden');\n    } else {\n      this.rightBtn.classList.remove('hidden');\n    }\n\n    if (isLeftEndReached) {\n      this.leftBtn.classList.add('hidden');\n    } else {\n      this.leftBtn.classList.remove('hidden');\n    }\n  }\n\n  setContentOffset(offset) {\n    this.contentOffset = offset;\n    this.cardsContainer.style.left = `${-this.contentOffset}px`;\n  }\n\n  animateMovingContent(offset) {\n    const startOffset = this.contentOffset;\n    const duration = SLIDER_ANIM_DURATION_MS;\n    const timeStart = performance.now();\n\n    const move = (timeNow) => {\n      const timePassed = timeNow - timeStart;\n\n      if (timePassed < duration) {\n        const stepDistance = offset * (timePassed / duration);\n\n        this.setContentOffset(startOffset + stepDistance);\n\n        requestAnimationFrame(move);\n      } else {\n        this.setContentOffset(startOffset + offset);\n        this.updateButtonsState();\n        this.updateProgress();\n        this.preloadNextPage();\n\n        this.isAnimating = false;\n      }\n    };\n\n    this.isAnimating = true;\n    requestAnimationFrame(move);\n  }\n\n  updateProgress() {\n    const cardsDisplaying = Math.round(\n      this.sliderContentWidth / this.cardWidth,\n    );\n    this.progressElem.value = this.firstCardIndex + cardsDisplaying;\n  }\n\n  contentAddHandler() {\n    const cardsCount = this.cardsContainer.children.length;\n    this.cardsContainerWidth = this.cardWidth * cardsCount;\n    this.updateButtonsState();\n  }\n\n  setData(data, total) {\n    this.loadedCardsCount = data.length;\n    this.totalCardsCount = total;\n    this.progressElem.max = total;\n\n    this.cardsManager.setData(data);\n  }\n\n  concatData(data) {\n    this.loadedCardsCount += data.length;\n\n    this.cardsManager.concatData(data);\n  }\n}\n\nmodule.exports = Slider;\n","const { SPEAK_MESSAGE } = require('./values');\n\nclass Speech {\n  constructor(appInst) {\n    this.app = appInst;\n    this.isRecording = false;\n\n    this.searchInput = document.querySelector('.search--input');\n    this.defaultSearchPlaceholder = this.searchInput.placeholder;\n\n    const SR = window.webkitSpeechRecognition || window.SpeechRecognition;\n    this.speech = new SR();\n\n    this.setEventsListeners();\n  }\n\n  setEventsListeners() {\n    const micBtn = document.querySelector('.search--mic_button');\n\n    micBtn.addEventListener('click', () => {\n      this.toggleRecording();\n    });\n\n    this.speech.addEventListener('end', () => {\n      this.toggleRecording();\n    });\n\n    this.speech.addEventListener('result', (e) => {\n      const { transcript } = e.results[0][0];\n\n      this.searchInput.value = transcript;\n      this.app.searchBySpeech(transcript);\n    });\n\n    this.speech.addEventListener('error', (e) => {\n      if (e.error === 'not-allowed') {\n        // eslint-disable-next-line no-alert\n        window.alert('Speech recording is not allowed');\n      }\n    });\n  }\n\n  toggleRecording() {\n    if (this.isRecording) {\n      this.searchInput.placeholder = this.defaultSearchPlaceholder;\n      this.stop();\n    } else {\n      this.searchInput.placeholder = SPEAK_MESSAGE;\n      this.start();\n    }\n  }\n\n  start() {\n    this.isRecording = true;\n    this.speech.start();\n  }\n\n  stop() {\n    this.isRecording = false;\n    this.speech.abort();\n  }\n}\n\nmodule.exports = Speech;\n","class Utils {\n  static createElem(elem, classes, parent, child) {\n    const el = document.createElement(elem);\n\n    if (classes instanceof Array) el.classList.add(...classes);\n    else if (typeof classes === 'string') {\n      const classesArray = classes.split(' ');\n\n      classesArray.forEach((className) => {\n        el.classList.add(className);\n      });\n    }\n\n    if (child instanceof Array) el.append(...child);\n    else if (child) el.append(child);\n\n    if (parent) parent.append(el);\n\n    return el;\n  }\n\n  static createLoadingPlaceholder(parent) {\n    const loadImg = Utils.createElem('img', 'load_img', parent);\n    loadImg.alt = 'loading...';\n    loadImg.title = 'loading...';\n    loadImg.src = './assets/ico/load.gif';\n    parent.append(loadImg);\n  }\n}\n\nmodule.exports = Utils;\n","const App = require('./App');\nconst { DEFAULT_SEARCH_STR } = require('./values');\n\ndocument.body.onload = () => {\n  const app = new App();\n  app.loadNewCards(DEFAULT_SEARCH_STR);\n\n  // eslint-disable-next-line no-alert\n  window.alert(\n    '.  -   (    '\n      + ')\\n       '\n      + '  -       \\n'\n      + '   - mikolka.del@gmail.com',\n  );\n};\n","const OMDB_API_URL = 'https://www.omdbapi.com';\nconst OMDB_KEY = '61cb7268';\nconst TRANSLATIONS_URL = 'https://translate.yandex.net/'\n  + 'api/v1.5/tr.json/translate?key='\n  + 'trnsl.1.1.20200424T165651Z.1d0b4512feaec8b5.d0f1a9a6e52374'\n  + 'b31845deff980acf39a41c1b1e&lang=ru-en&text=';\nconst IMDB_URL = 'https://www.imdb.com/';\nconst IMDB_NAME = 'Internet Movie Database';\nconst NO_SEARCH_RESULT_TEXT = 'No result for';\nconst POSTER_NA = 'Poster not found';\nconst RATING_NA = 'Rating not found';\nconst DEFAULT_SEARCH_STR = 'dream';\nconst SLIDER_ANIM_DURATION_MS = 200;\nconst STOCK_BEFORE_PRELOAD = 4;\nconst SPEAK_MESSAGE = ' - - - SPEAK - - -';\n\nmodule.exports = {\n  OMDB_API_URL,\n  OMDB_KEY,\n  TRANSLATIONS_URL,\n  IMDB_URL,\n  IMDB_NAME,\n  NO_SEARCH_RESULT_TEXT,\n  POSTER_NA,\n  RATING_NA,\n  DEFAULT_SEARCH_STR,\n  SLIDER_ANIM_DURATION_MS,\n  STOCK_BEFORE_PRELOAD,\n  SPEAK_MESSAGE,\n};\n"],"sourceRoot":""}